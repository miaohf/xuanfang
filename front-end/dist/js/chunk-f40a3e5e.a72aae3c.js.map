{"version":3,"sources":["webpack:///./src/views/podcast/components/marquee/marquee.vue?a8f2","webpack:///./src/api/audios.js","webpack:///./src/views/podcast/components/marquee/marquee.vue?95cb","webpack:///src/views/podcast/components/marquee/marquee.vue","webpack:///./src/views/podcast/components/marquee/marquee.vue?266a","webpack:///./src/views/podcast/components/marquee/marquee.vue","webpack:///./src/api/customers.js","webpack:///./src/views/podcast/controlVoice.vue?70c3","webpack:///./src/views/podcast/controlVoice.vue?9696","webpack:///src/views/podcast/controlVoice.vue","webpack:///./src/views/podcast/controlVoice.vue?c057","webpack:///./src/views/podcast/controlVoice.vue"],"names":["fetchAudio","request","url","method","updateAudio","id","data","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","style","animationDuration","duration","_l","item","index","key","_v","_s","text","$moment","create_at","utc","format","staticRenderFns","name","props","type","Array","default","speed","Number","mounted","console","log","component","fetchCustomers","query","params","fetchCustomer","fetchCustomerByCode","customer_code","fetchCustomerChoices","createCustomer","updateCustomer","deleteCustomer","fetchCustomersList","fetchCustomersCount","callNumber","callNumberbyControl","staticStyle","attrs","scopedSlots","_u","fn","proxy","marqueeList","customer","class","is_called","lottery_sequence","on","$event","generateAudio","circle","disabled","total_pages","nextIcon","prevIcon","totalVisible","listQuery","page","paginationChangeHandler","model","value","callback","$$v","$set","expression","audio_url","autoPlay","freshCustomers","components","marquee","VuetifyAudio","computed","created","getCustomers","destroyed","clearInterval","timer","methods","getAudio","response","setTimeout","customers","indexOf","length","pageUp","pageDown","pageNumber","customer_id","VBadge","VBtn","VCol","VContainer","VPagination","VRow"],"mappings":"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","file":"js/chunk-f40a3e5e.a72aae3c.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./marquee.vue?vue&type=style&index=0&id=770c1868&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./marquee.vue?vue&type=style&index=0&id=770c1868&lang=less&scoped=true&\"","import request from '@/utils/request'\r\n\r\nexport function fetchAudios(data) {\r\n  return request({\r\n    url: '/audios',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\nexport function fetchAudio() {\r\n  return request({\r\n    url: `/audios`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function updateAudio(id, data) {\r\n  return request({\r\n    url: `/audios/${id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"marquee-wrap\"},[_c('div',{ref:\"marquee\",staticClass:\"marquee\",style:({ animationDuration: _vm.duration })},_vm._l((_vm.data),function(item,index){return _c('span',{key:index,staticClass:\"text-item\"},[_c('i',{staticClass:\"mdi mdi-bell-ring-outline ring\"}),_vm._v(\" \"+_vm._s(item.text)+\" \"+_vm._s(_vm.$moment(item.create_at) .utc() .format(\"YYYY-MM-DD HH:mm\"))+\" \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"marquee-wrap\">\r\n    <div class=\"marquee\" ref=\"marquee\" :style=\"{ animationDuration: duration }\">\r\n      <span class=\"text-item\" v-for=\"(item, index) of data\" :key=\"index\">\r\n        <i class=\"mdi mdi-bell-ring-outline ring\"></i>\r\n        {{ item.text }}\r\n        {{\r\n          $moment(item.create_at)\r\n            .utc()\r\n            .format(\"YYYY-MM-DD HH:mm\")\r\n        }}\r\n      </span>\r\n\r\n      <!-- <span\r\n        class=\"text-item\"\r\n        v-for=\"(item, index) of data\"\r\n        :key=\"`copy-${index}`\"\r\n        >{{ item }}</span\r\n      > -->\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"marquee\",\r\n  props: {\r\n    /* 跑马灯数据 */\r\n    data: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    /* 跑马灯速度，数值越大速度越快 */\r\n    speed: {\r\n      type: Number,\r\n      default: 10\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      duration: 0\r\n    };\r\n  },\r\n  mounted() {\r\n    /* 跑马灯速度，使用跑马灯内容宽度 除以 速度 得到完整跑完一半内容的时间 */\r\n    this.duration = '30s'\r\n      // ~~this.$refs.marquee.getBoundingClientRect().width / this.speed + \"s\";\r\n    console.log(' marquee this.duration: ', this.duration)\r\n  },\r\n\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// 自行使用 px2rem，这部分不讲述\r\n\r\n.marquee-wrap {\r\n  position: relative;\r\n  overflow: hidden;\r\n  &:after {\r\n    content: \"0\";\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n.marquee {\r\n  position: absolute;\r\n  font-size: 0;\r\n  color: rgb(248, 124, 74);\r\n  white-space: nowrap;\r\n  animation-name: marquee;\r\n  animation-timing-function: linear;\r\n  animation-iteration-count: infinite;\r\n}\r\n\r\n.text-item {\r\n  margin-left: 600px;\r\n  margin-right: 24px;\r\n  \r\n  font-size: 24px;\r\n  /* 解决Font Boosting */\r\n  -webkit-text-size-adjust: none;\r\n  // max-height: 999px; //如果上面的依然未解决问题就加上这句吧\r\n}\r\n\r\n.ring {\r\n  color: rgb(248, 124, 74);\r\n}\r\n\r\n@keyframes marquee {\r\n  to {\r\n    transform: translateX(-50%);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./marquee.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./marquee.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./marquee.vue?vue&type=template&id=770c1868&scoped=true&\"\nimport script from \"./marquee.vue?vue&type=script&lang=js&\"\nexport * from \"./marquee.vue?vue&type=script&lang=js&\"\nimport style0 from \"./marquee.vue?vue&type=style&index=0&id=770c1868&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"770c1868\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\n\r\nexport function fetchCustomers(query) {\r\n  return request({\r\n    url: '/customers',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function fetchCustomer(id) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n\r\nexport function fetchCustomerByCode(customer_code) {\r\n  return request({\r\n    url: `/customers/code/${customer_code}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function fetchCustomerChoices(id, data) {\r\n  return request({\r\n    url: `/customers/${id}/choices`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\nexport function createCustomer(data) {\r\n  return request({\r\n    url: '/customers',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function updateCustomer(id, data) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\nexport function deleteCustomer(id) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n\r\nexport function fetchCustomersList() {\r\n  return request({\r\n    url: '/customerslist',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function fetchCustomersCount() {\r\n  return request({\r\n    url: '/customers/count',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n\r\nexport function callNumber(data) {\r\n  return request({\r\n    url: '/customers/callnumber',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function callNumberbyControl(data) {\r\n  return request({\r\n    url: '/customers/callnumberbycontrol',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./controlVoice.vue?vue&type=style&index=0&id=f8f9b0ce&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./controlVoice.vue?vue&type=style&index=0&id=f8f9b0ce&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"px-8\",staticStyle:{\"min-height\":\"720px\"},attrs:{\"fluid\":\"\"},scopedSlots:_vm._u([{key:\"after-heading\",fn:function(){return undefined},proxy:true}])},[_c('div',{staticClass:\"marquee\"},[_c('marquee',{attrs:{\"data\":_vm.marqueeList}})],1),_c('v-row',{staticClass:\"ma-0 d-flex justify-space-between \"},[_c('v-col',{attrs:{\"cols\":\"9\"}},[_vm._l((_vm.customers),function(customer){return _c('span',{key:customer.id},[(customer.is_called)?_c('span',[_c('v-badge',{class:(\"my-badge-\" + (customer.is_called)),attrs:{\"overlap\":\"\",\"content\":customer.is_called,\"offset-x\":\"20\",\"offset-y\":\"20\"}},[_c('v-btn',{class:(\"my-btn-\" + (customer.is_called) + \" mx-2 my-2\"),staticStyle:{\"width\":\"120px\"},attrs:{\"disabled\":customer.lottery_sequence == '-'},on:{\"click\":function($event){return _vm.generateAudio(customer)}}},[_vm._v(_vm._s(customer.lottery_sequence)+\".\"+_vm._s(customer.name))])],1)],1):_c('span',[_c('v-btn',{class:(\"my-btn-\" + (customer.is_called) + \" mx-2 my-2\"),staticStyle:{\"width\":\"120px\"},attrs:{\"disabled\":customer.lottery_sequence == '-'},on:{\"click\":function($event){return _vm.generateAudio(customer)}}},[_vm._v(_vm._s(customer.lottery_sequence)+\".\"+_vm._s(customer.name))])],1)])}),_c('v-pagination',{staticClass:\"my-3 mx-0\",attrs:{\"circle\":_vm.circle,\"disabled\":_vm.disabled,\"length\":_vm.total_pages,\"next-icon\":_vm.nextIcon,\"prev-icon\":_vm.prevIcon,\"total-visible\":_vm.totalVisible,\"value\":_vm.listQuery.page},on:{\"input\":_vm.paginationChangeHandler},model:{value:(_vm.listQuery.page),callback:function ($$v) {_vm.$set(_vm.listQuery, \"page\", $$v)},expression:\"listQuery.page\"}})],2),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('vuetify-audio',{staticClass:\"mt-3\",attrs:{\"file\":_vm.audio_url,\"color\":\"warning\",\"autoPlay\":_vm.autoPlay,\"ended\":_vm.freshCustomers}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid class=\"px-8\" style=\"min-height:720px\">\n    <template v-slot:after-heading> </template>\n    <div class=\"marquee\">\n      <marquee :data=\"marqueeList\"></marquee>\n    </div>\n    <v-row class=\"ma-0 d-flex justify-space-between \">\n      <v-col  cols=\"9\">\n        <span v-for=\"customer in customers\" :key=\"customer.id\">\n          <span v-if=\"customer.is_called\">\n            <v-badge\n              overlap\n              :class=\"`my-badge-${customer.is_called}`\"\n              :content=\"customer.is_called\"\n              offset-x=\"20\"\n              offset-y=\"20\"\n            >\n              <v-btn\n                :class=\"`my-btn-${customer.is_called} mx-2 my-2`\"\n                style=\"width:120px\"\n                :disabled=\"customer.lottery_sequence == '-'\"\n                @click=\"generateAudio(customer)\"\n                >{{ customer.lottery_sequence }}.{{ customer.name }}</v-btn\n              ></v-badge\n            >\n          </span>\n\n          <span v-else>\n            <v-btn\n              :class=\"`my-btn-${customer.is_called} mx-2 my-2`\"\n              style=\"width:120px\"\n              :disabled=\"customer.lottery_sequence == '-'\"\n              @click=\"generateAudio(customer)\"\n              >{{ customer.lottery_sequence }}.{{ customer.name }}</v-btn\n            >\n          </span>\n        </span>\n        <v-pagination\n          v-model=\"listQuery.page\"\n          :circle=\"circle\"\n          :disabled=\"disabled\"\n          :length=\"total_pages\"\n          :next-icon=\"nextIcon\"\n          :prev-icon=\"prevIcon\"\n          :total-visible=\"totalVisible\"\n          :value=\"listQuery.page\"\n          @input=\"paginationChangeHandler\"\n          class=\"my-3 mx-0\"\n        ></v-pagination>\n      </v-col>\n      <v-col cols=\"3\">\n        <vuetify-audio\n        :file=\"audio_url\"\n        color=\"warning\"\n        :autoPlay=\"autoPlay\"\n        :ended=\"freshCustomers\"\n        class=\"mt-3\"\n      ></vuetify-audio>\n      </v-col>\n    </v-row>\n\n  </v-container>\n</template>\n\n<script>\nconst baseUrl = \"https://taozhuang.tuozhanad.com\";\nimport marquee from \"./components/marquee/marquee\";\nimport { fetchAudio } from \"@/api/audios\";\nimport { fetchCustomers, callNumberbyControl } from \"@/api/customers\";\n// import { keDaXunFei } from \"@/utils/tts-ws-node\";\n\nexport default {\n  name: \"PodCast\",\n\n  components: {\n    marquee,\n    VuetifyAudio: () => import(\"vuetify-audio\")\n  },\n\n  data: () => ({\n    start_number: 1,\n    offset: 5,\n    audio: {\n      audiotype: 0, // 0, 播报，1, 叫号\n      lottery_sequence: 1,\n      text: \"\"\n    },\n    autoPlay: true,\n    autoCall: true,\n    audio_url: \"https://taozhuang.tuozhanad.com/audios/coloredeer4.mp3\",\n    data: \"\",\n    marqueeList: [{ text: \"欢迎使用九色鹿抽签管理系统\" }],\n    timer: 0,\n    i: 0,\n    message: \"Hello, world ~!\",\n    timeout: 3000,\n    customers: [],\n    customer: {},\n    listQuery: {\n      page: 1,\n      limit: 80,\n      // order_by_lottery_sequence: undefined,\n      customer_code: undefined,\n      customer_name: undefined,\n      status: undefined,\n      remain_area_greater_twenty: undefined,\n      sort: \"+id\",\n      orderby: 2,  //2 抽签顺序号\n      paged: 1,\n      check_flag: undefined,\n      village_id: undefined\n    },\n    total_pages: 0,\n    totalVisible: 10,\n    nextIcon: \"mdi-chevron-right\",\n    prevIcon: \"mdi-chevron-left\",\n    circle: true,\n    disabled: false,\n    badgeColor: \"rgb(#7c2b02 .8)\"\n  }),\n\n  computed: {},\n\n  created() {\n    this.getCustomers();\n  },\n\n  destroyed() {\n    clearInterval(this.timer);\n  },\n\n  methods: {\n    getCustomers() {\n      const query = this.listQuery;\n      fetchCustomers(query).then(response => {\n        this.customers = response.data.items;\n        this.total_pages = response.data._meta.total_pages;\n        console.log(this.customers);\n      });\n    },\n\n    getAudio() {\n      fetchAudio().then(response => {\n        if (response.data.id) {\n          clearInterval(this.timer);\n          this.audio = response.data;\n\n          setTimeout(() => {\n            this.audio_url = baseUrl + this.audio.uri;\n            if (this.marqueeList.includes(this.audio.text)) {\n              // console.log(\"the same audio.text\");\n            } else {\n              this.marqueeList.shift();\n              this.marqueeList.push(this.audio);\n            }\n          }, 5 * 1000);\n        }\n      });\n    },\n\n    freshCustomers() {\n      if (this.customers.indexOf(this.customer) == this.customers.length - 1) {\n        this.listQuery.page = this.listQuery.page + 1;\n      }\n      this.getCustomers();\n    },\n\n    pageUp() {\n      this.listQuery.page = this.listQuery.page - 1;\n      this.getCustomers();\n    },\n\n    pageDown() {\n      this.listQuery.page = this.listQuery.page + 1;\n      this.getCustomers();\n    },\n\n    paginationChangeHandler(pageNumber) {\n      console.log(\"paginationChangeHandler, pageNumber: \", pageNumber);\n      this.listQuery.page = pageNumber;\n      this.getCustomers();\n    },\n\n    generateAudio(customer) {\n      this.customer = customer;\n      var text =\n        \"请选房顺序号，第\" +\n        customer.lottery_sequence +\n        \"号代表，上台选房。\";\n      // let kedaxunfei = new keDaXunFei(outputfile, text);\n      // kedaxunfei.connect()  //浏览器websocket无法实现文件下载\n      console.log(\"generateAudio\");\n      var data = {\n        text: text,\n        customer_id: customer.id\n      };\n\n      callNumberbyControl(data).then(response => {\n        this.audio = response.data;\n        setTimeout(() => {\n          this.audio_url = baseUrl + this.audio.uri;\n          if (this.marqueeList.includes(this.audio.text)) {\n            console.log(\"the same audio.text\");\n          } else {\n            this.marqueeList.shift();\n            this.marqueeList.push(this.audio);\n          }\n        }, 3 * 1000);\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.marquee {\n  // font-size: 10px;\n  font-weight: 400;\n  background-color: #19191a;\n  width: 100%;\n  align-items: center;\n  padding-left: 15px;\n  padding-right: 15px;\n  line-height: 50px;\n  color: rgb(245, 200, 142);\n  // box-sizing: border-box;\n  // border: 1px solid #1b1a1a;\n}\n\n// .my-btn {\n//   color: #f3b69e;\n// }\n\n// $colors: (0 #104232, 1 #ad7327, 2 #8f3e0f, 3 #912119, 4 #580903);\n$colors: (\n  0 #254137,\n  1 #0b2a44,\n  2 #0b2a44,\n  3 #0b2a44,\n  4 #0b2a44,\n  5 #0b2a44,\n  6 #0b2a44,\n  7 #0b2a44,\n  8 #0b2a44,\n  9 #0b2a44,\n  10 #0b2a44\n);\n\n$color: nth($colors, random(length($colors)));\n\n@each $i in $colors {\n  .my-btn-#{nth($i,1)} {\n    color: #cacacc;\n    background-color: nth($i, 2) !important;\n  }\n\n  .my-badge-#{nth($i,1)} {\n    color: #49aa08;\n  }\n}\n\n.dopage {\n  background-color: #263741 !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./controlVoice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./controlVoice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./controlVoice.vue?vue&type=template&id=f8f9b0ce&scoped=true&\"\nimport script from \"./controlVoice.vue?vue&type=script&lang=js&\"\nexport * from \"./controlVoice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./controlVoice.vue?vue&type=style&index=0&id=f8f9b0ce&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8f9b0ce\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VPagination } from 'vuetify/lib/components/VPagination';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBadge,VBtn,VCol,VContainer,VPagination,VRow})\n"],"sourceRoot":""}