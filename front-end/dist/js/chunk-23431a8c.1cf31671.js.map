{"version":3,"sources":["webpack:///./src/views/contracts/addContractDialog.vue?a789","webpack:///src/views/contracts/addContractDialog.vue","webpack:///./src/views/contracts/addContractDialog.vue?7ccd","webpack:///./src/views/contracts/addContractDialog.vue","webpack:///./src/api/customers.js","webpack:///./src/api/labels.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","ref","on","_g","_b","staticClass","_v","model","value","callback","$$v","dialog","expression","customersList","temp","$set","labelslist","staticStyle","cancelAddDialog","confirmAddDialog","staticRenderFns","name","components","ModelListSelect","data","mounted","getCustomers","getLabels","methods","setTimeout","console","log","component","VBtn","VCard","VCardActions","VCol","VDialog","VDivider","VIcon","VRow","VSpacer","fetchCustomers","query","request","url","method","params","fetchCustomer","id","fetchCustomerByCode","customer_code","fetchCustomerChoices","createCustomer","updateCustomer","deleteCustomer","fetchCustomersList","fetchCustomersCount","callNumber","callNumberbyControl","fetchLabel","fetchLabels","deleteLabel","fetchLabelsList","updateLabel","fetchLabelsCount","updateLabels","resetLabels","fetchLabelStatistics"],"mappings":"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","file":"js/chunk-23431a8c.1cf31671.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"1400\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mx-2\",attrs:{\"color\":\"green\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" 新增\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-plus\")])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-col',[_c('v-card',{staticClass:\"pa-6\",attrs:{\"height\":\"400px\"}},[_c('h1',[_vm._v(\"新增签约\")]),_c('v-divider',{staticClass:\"mx-4 my-1\"}),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"5\",\"md\":\"5\"}},[_c('model-list-select',{attrs:{\"list\":_vm.customersList,\"placeholder\":\"选择户主\",\"option-value\":\"id\",\"option-text\":\"name\"},model:{value:(_vm.temp.customer_id),callback:function ($$v) {_vm.$set(_vm.temp, \"customer_id\", $$v)},expression:\"temp.customer_id\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"7\",\"md\":\"7\"}},[_c('model-list-select',{attrs:{\"list\":_vm.labelslist,\"placeholder\":\"选择号签\",\"option-value\":\"id\",\"option-text\":\"detail\"},model:{value:(_vm.temp.label_id),callback:function ($$v) {_vm.$set(_vm.temp, \"label_id\", $$v)},expression:\"temp.label_id\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"12\"}},[_c('p',{staticClass:\"mb-0 pb-2 pt-0 font-weight-light grey--text\",staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\" 九色鹿抽签管理系统，由 九色鹿网络 提供技术支持。 \")])])],1),_c('div',{staticClass:\"my-3\"})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.cancelAddDialog}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.confirmAddDialog}},[_vm._v(\"确认\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-dialog v-model=\"dialog\" max-width=\"1400\">\r\n    <template v-slot:activator=\"{ on, attrs }\">\r\n      <v-btn\r\n        color=\"green\"\r\n        dark\r\n        v-bind=\"attrs\"\r\n        v-on=\"on\"\r\n        class=\"mx-2\"\r\n      >\r\n        新增<v-icon right>mdi-plus</v-icon>\r\n      </v-btn>\r\n    </template>\r\n    <v-card>\r\n      <!-- <v-card-title class=\"headline\">编辑</v-card-title> -->\r\n      <v-col>\r\n        <v-card class=\"pa-6\" height=\"400px\">\r\n          <h1>新增签约</h1>\r\n          <v-divider class=\"mx-4 my-1\"></v-divider>\r\n          <v-row>\r\n            <v-col cols=\"12\" sm=\"5\" md=\"5\">\r\n              <model-list-select\r\n                :list=\"customersList\"\r\n                placeholder=\"选择户主\"\r\n                v-model=\"temp.customer_id\"\r\n                option-value=\"id\"\r\n                option-text=\"name\"\r\n              >\r\n              </model-list-select>\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" sm=\"7\" md=\"7\">\r\n              <model-list-select\r\n                :list=\"labelslist\"\r\n                placeholder=\"选择号签\"\r\n                v-model=\"temp.label_id\"\r\n                option-value=\"id\"\r\n                option-text=\"detail\"\r\n              >\r\n              </model-list-select>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col cols=\"12\" sm=\"6\" md=\"12\">\r\n              <p\r\n                class=\"mb-0 pb-2 pt-0 font-weight-light grey--text\"\r\n                style=\"font-size:18px\"\r\n              >\r\n                 九色鹿抽签管理系统，由 九色鹿网络 提供技术支持。\r\n              </p>\r\n            </v-col>\r\n          </v-row>\r\n          <div class=\"my-3\" />\r\n        </v-card>\r\n      </v-col>\r\n\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn color=\"primary\" @click=\"cancelAddDialog\">取消</v-btn>\r\n        <v-btn color=\"primary\" @click=\"confirmAddDialog\">确认</v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { createContract } from \"@/api/contracts\";\r\nimport { fetchCustomersList } from \"@/api/customers\";\r\nimport { fetchLabelsList } from \"@/api/labels\";\r\nimport { ModelListSelect } from \"vue-search-select\";\r\n\r\nexport default {\r\n  name: \"AddContractDialog\",\r\n  components: {\r\n    ModelListSelect\r\n  },\r\n\r\n  data: () => ({\r\n    customersList: [],\r\n    labelslist: [],\r\n    objectItem: {},\r\n    stringItem: \"\",\r\n    dialog: false,\r\n    temp: {\r\n      customer_id: \"\",\r\n      label_id: \"\",\r\n    }\r\n  }),\r\n  mounted() {\r\n    this.getCustomers()\r\n    this.getLabels()\r\n  },\r\n  methods: {\r\n    getCustomers() {\r\n      fetchCustomersList().then(response => {\r\n        this.customersList = response.data.items;\r\n        // Just to simulate the time of the request\r\n        setTimeout(() => {\r\n          this.listLoading = false;\r\n        }, 1.5 * 1000);\r\n      });\r\n      console.log(\"customersList:\", this.customersList);\r\n    },\r\n\r\n    getLabels() {\r\n      fetchLabelsList().then(response => {\r\n        this.labelslist = response.data.items;\r\n        // Just to simulate the time of the request\r\n        setTimeout(() => {\r\n          this.listLoading = false;\r\n        }, 1.5 * 1000);\r\n      });\r\n      console.log(\"labelslist:\", this.labelslist);\r\n    },\r\n\r\n    confirmAddDialog() {\r\n      const tempData = this.temp;\r\n      createContract(tempData).then(() => {\r\n        this.dialog = false\r\n        this.temp = {}\r\n        this.getCustomers()\r\n        this.getLabels()\r\n\r\n        this.$parent.getList()\r\n\r\n      });\r\n    },\r\n\r\n    cancelAddDialog() {\r\n      this.dialog = false;\r\n      this.temp = {};\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addContractDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addContractDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addContractDialog.vue?vue&type=template&id=50c4c404&\"\nimport script from \"./addContractDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./addContractDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCol,VDialog,VDivider,VIcon,VRow,VSpacer})\n","import request from '@/utils/request'\r\n\r\nexport function fetchCustomers(query) {\r\n  return request({\r\n    url: '/customers',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function fetchCustomer(id) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n\r\nexport function fetchCustomerByCode(customer_code) {\r\n  return request({\r\n    url: `/customers/code/${customer_code}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function fetchCustomerChoices(id, data) {\r\n  return request({\r\n    url: `/customers/${id}/choices`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\nexport function createCustomer(data) {\r\n  return request({\r\n    url: '/customers',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function updateCustomer(id, data) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\nexport function deleteCustomer(id) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n\r\nexport function fetchCustomersList() {\r\n  return request({\r\n    url: '/customerslist',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function fetchCustomersCount() {\r\n  return request({\r\n    url: '/customers/count',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n\r\nexport function callNumber(data) {\r\n  return request({\r\n    url: '/customers/callnumber',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function callNumberbyControl(data) {\r\n  return request({\r\n    url: '/customers/callnumberbycontrol',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","import request from '@/utils/request'\r\n\r\nexport function fetchLabel(id) {\r\n  return request({\r\n    url: `/labels/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function fetchLabels(query) {\r\n  return request({\r\n    url: '/labels',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function deleteLabel(id) {\r\n  return request({\r\n    url: `/labels/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\nexport function fetchLabelsList() {\r\n  return request({\r\n    url: '/labelslist',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function updateLabel(id, data) {\r\n  return request({\r\n    url: `/labels/${id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\nexport function fetchLabelsCount() {\r\n  return request({\r\n    url: '/labels/count',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// for slice labels\r\nexport function updateLabels(data) {\r\n  return request({\r\n    url: `/labels`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n\r\nexport function resetLabels() {\r\n  return request({\r\n    url: `/labels/reset`,\r\n    method: 'put'\r\n  })\r\n}\r\n\r\nexport function fetchLabelStatistics() {\r\n  return request({\r\n    url: `/labels/statistics`,\r\n    method: 'get'\r\n  })\r\n}"],"sourceRoot":""}