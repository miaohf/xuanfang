(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bb28364"],{"1d3a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"900"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mx-1",attrs:{color:"green",dark:""}},"v-btn",o,!1),s),[t._v(" 签到"),a("v-icon",{attrs:{right:""}},[t._v("mdi-crop-free")])],1)]}}]),model:{value:t.dialogScan,callback:function(e){t.dialogScan=e},expression:"dialogScan"}},[a("v-container",{staticClass:"pa-6 my-container"},[a("v-col",[a("h1",[t._v("户主签到")]),a("v-divider",{staticClass:"mx-4 my-1"}),a("v-alert",{attrs:{border:"left","close-text":"Close Alert",color:"#2A3B4D",dark:"",dismissible:""},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v(" "+t._s(t.alert_text)+" ")]),a("v-row",[a("v-col",{attrs:{cols:"8",sm:"8",md:"8"}},[a("v-text-field",{staticClass:"ml-auto",staticStyle:{"max-width":"300px"},attrs:{autofocus:"","prepend-icon":"mdi-barcode",label:"扫码录入","hide-details":"","single-line":""},on:{input:t.handleScan},model:{value:t.scan.value,callback:function(e){t.$set(t.scan,"value",e)},expression:"scan.value"}})],1)],1),a("div",{attrs:{"v-if":this.temp.customer}},[a("v-row",{class:"customer-title-"+t.temp.customer.check_flag},[a("h3",[t._v(" "+t._s(this.temp.customer.name)+" "+t._s(t.getNamefromOptions(t.checkInStatus,this.temp.customer.check_flag))+" ")])]),a("v-row",{staticClass:"customer-detail"},[t.temp.customer.id?a("p",[t._v(" "+t._s(this.temp.customer.id)+","+t._s(this.temp.customer.lottery_sequence)+", "+t._s(this.temp.customer.village)+", "+t._s(this.temp.customer.phone)+", "+t._s(this.temp.customer.myarea)+"㎡, "+t._s(this.temp.customer.cardid)+" ")]):t._e()])],1),a("div",{staticClass:"my-3"})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.cancelCheckinCustomerDialog}},[t._v("取消")])],1),a("v-snackbar",{attrs:{timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)],1)},o=[],c=(a("4160"),a("a9e3"),a("159b"),a("9671")),n=[{key:0,display_name:"✘"},{key:1,display_name:"✔"},{key:2,display_name:"Ο"}],i={name:"CheckinCustomerDialog",components:{},data:function(){return{timeout:3,snackbar:!1,text:"",alert:!1,alert_text:"",customersList:[],scan:{value:"",type:""},house_code:"",objectItem:{},stringItem:"",dialogScan:!1,default_book:"http://booksapi.coloredeer.com:8004/images/default_book.png",temp:{customer:{},houses:[]},house:{id:"",garden:"",area:"",status:""},checkInStatus:n}},mounted:function(){},methods:{handleScan:function(){var t=this;if(console.log("handleScan"),8==this.scan.value.length&&(this.scan.type=this.scan.value.substr(0,1),"8"==this.scan.type)){var e=Number(this.scan.value.substr(0,7));console.log("customer_code: ",e),this.getCustomerByCode(e),setTimeout((function(){t.checkinCustomer(e)}),500)}},getCustomerByCode:function(t){var e=this;console.log("getCustomer"),Object(c["f"])(t).then((function(t){e.temp.customer=t.data,setTimeout((function(){e.listLoading=!1}),1e3)})),this.scan={type:"",value:""}},checkinCustomer:function(t){var e=this;console.log("checkinCustomer");var a={check_flag:1};Object(c["k"])(this.temp.customer.id,a).then((function(t){e.temp.customer=t.data,setTimeout((function(){e.listLoading=!1}),1500),e.$parent.getList()})),this.scan={type:"",value:""}},cancelCheckinCustomerDialog:function(){this.dialogScan=!1,this.scan={type:"",value:""},this.temp={customer:{},houses:[]},console.log("cancelCheckinCustomerDialog")},getNamefromOptions:function(t,e){var a="";return t.forEach((function(t){t.key===e&&(a=t.display_name)})),a}}},r=i,l=(a("7bfc"),a("2877")),u=a("6544"),m=a.n(u),d=a("0798"),h=a("8336"),v=a("99d9"),p=a("62ad"),f=a("a523"),_=a("169a"),b=a("ce7e"),g=a("132d"),k=a("0fd9"),C=a("2db4"),y=a("2fa4"),x=a("8654"),S=Object(l["a"])(r,s,o,!1,null,"294ef432",null);e["default"]=S.exports;m()(S,{VAlert:d["a"],VBtn:h["a"],VCardActions:v["b"],VCol:p["a"],VContainer:f["a"],VDialog:_["a"],VDivider:b["a"],VIcon:g["a"],VRow:k["a"],VSnackbar:C["a"],VSpacer:y["a"],VTextField:x["a"]})},7537:function(t,e,a){},"7bfc":function(t,e,a){"use strict";var s=a("7537"),o=a.n(s);o.a}}]);
//# sourceMappingURL=chunk-1bb28364.c78993b7.js.map