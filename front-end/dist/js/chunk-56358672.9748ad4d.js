(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56358672"],{"06a0":function(t,e,n){"use strict";var o=n("171b"),a=n.n(o);a.a},"171b":function(t,e,n){},9671:function(t,e,n){"use strict";n.d(e,"h",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return c})),n.d(e,"c",(function(){return r})),n.d(e,"k",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"j",(function(){return d})),n.d(e,"i",(function(){return p})),n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return h}));var o=n("b775");function a(t){return Object(o["a"])({url:"/customers",method:"get",params:t})}function s(t){return Object(o["a"])({url:"/customers/".concat(t),method:"get"})}function i(t){return Object(o["a"])({url:"/customers/code/".concat(t),method:"get"})}function c(t,e){return Object(o["a"])({url:"/customers/".concat(t,"/choices"),method:"post",data:e})}function r(t){return Object(o["a"])({url:"/customers",method:"post",data:t})}function u(t,e){return Object(o["a"])({url:"/customers/".concat(t),method:"put",data:e})}function l(t){return Object(o["a"])({url:"/customers/".concat(t),method:"delete"})}function d(){return Object(o["a"])({url:"/customerslist",method:"get"})}function p(){return Object(o["a"])({url:"/customers/count",method:"get"})}function m(t){return Object(o["a"])({url:"/customers/callnumber",method:"post",data:t})}function h(t){return Object(o["a"])({url:"/customers/callnumberbycontrol",method:"post",data:t})}},"9f33":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""},scopedSlots:t._u([{key:"after-heading",fn:function(){},proxy:!0}])},[n("v-row",{staticClass:"d-flex justify-center mb-0"},[n("v-text-field",{staticClass:"mx-6 controlpanel",staticStyle:{width:"180px"},attrs:{color:"yellow darken-3",label:"房源总数",required:"",readonly:""},model:{value:t.houses_count,callback:function(e){t.houses_count=e},expression:"houses_count"}}),n("v-text-field",{staticClass:"mx-6 controlpanel",staticStyle:{width:"180px"},attrs:{color:"yellow darken-3",label:"总户数",required:"",readonly:""},model:{value:t.customers_count_static,callback:function(e){t.customers_count_static=e},expression:"customers_count_static"}}),n("v-text-field",{staticClass:"mx-6 controlpanel input",staticStyle:{width:"30px"},attrs:{label:"智果"},on:{change:t.onChange},model:{value:t.temp.b.population,callback:function(e){t.$set(t.temp.b,"population",e)},expression:"temp.b.population"}}),n("v-text-field",{staticClass:"mx-6 controlpanel input",staticStyle:{width:"30px"},attrs:{label:"静脉产业"},on:{change:t.onChange},model:{value:t.temp.c.population,callback:function(e){t.$set(t.temp.c,"population",e)},expression:"temp.c.population"}}),n("v-text-field",{staticClass:"mx-6 controlpanel input",staticStyle:{width:"30px"},attrs:{label:"农房集聚点"},on:{change:t.onChange},model:{value:t.temp.d.population,callback:function(e){t.$set(t.temp.d,"population",e)},expression:"temp.d.population"}}),n("v-text-field",{staticClass:"mx-6 controlpanel input",staticStyle:{width:"30px"},attrs:{label:"南北暑安置"},on:{change:t.onChange},model:{value:t.temp.e.population,callback:function(e){t.$set(t.temp.e,"population",e)},expression:"temp.e.population"}}),n("v-text-field",{staticClass:"mx-6 controlpanel input",staticStyle:{width:"40px"},attrs:{color:"green darken-3",label:"设置倒计时长(S)",required:""},on:{change:t.onCountdownChange},model:{value:t.countdown,callback:function(e){t.countdown=e},expression:"countdown"}}),n("div",[n("StartChouQian")],1),n("v-btn",{staticClass:"mr-3",attrs:{color:"primary",fab:""},on:{click:t.goStatistics}},[n("v-icon",{attrs:{large:""}},[t._v("mdi-chart-bar-stacked")])],1),n("v-btn",{staticClass:"mr-3",attrs:{color:"primary",fab:""},on:{click:t.goHouseList}},[n("v-icon",{attrs:{large:""}},[t._v("mdi-format-list-bulleted")])],1),n("v-btn",{staticClass:"mr-16",attrs:{color:"red",fab:""},on:{click:t.onReset}},[n("v-icon",{attrs:{large:""}},[t._v("mdi-backup-restore")])],1)],1),n("v-card",{staticClass:"pa-6 mx-3",staticStyle:{height:"680px"}},[n("vue-seamless-scroll",{staticClass:"seamless",attrs:{data:t.housesList,"class-option":t.myOption}},[n("table",{staticClass:"seamless"},t._l(t.housesList,(function(e){return n("tr",{key:e.id},[n("td",{staticClass:"text-left"},[t._v(" "+t._s(e.house_code)+" ")]),n("td",{staticClass:"text-right"},[t._v(" "+t._s(e.garden)+" ")]),n("td",{staticClass:"text-right"},[t._v(t._s(e.building)+"幢")]),n("td",{staticClass:"text-right"},[t._v(t._s(e.unit)+"单元")]),n("td",{staticClass:"text-right"},[t._v(t._s(e.number)+"室")]),n("td",{staticClass:"text-right"},[t._v(" "+t._s(e.area)+" ")]),n("td",{staticClass:"text-right"},[t._v(" "+t._s(e.house_type)+" ")]),n("td",{staticClass:"text-right"},[e.multi_flag?n("span",[n("v-icon",{attrs:{color:"red"}},[t._v("mdi-tag-text-outline")])],1):n("span",[n("v-icon",{attrs:{color:"grey"}},[t._v("mdi-tag-outline")])],1)]),n("td",{staticClass:"text-right"},[t._v(" "+t._s(t.$moment(e.create_at).utc().format("YYYY-MM-DD"))+" ")])])})),0)])],1),n("v-alert",{attrs:{value:t.alert,color:"red",dark:"",border:"top",icon:"mdi-bell",transition:"scale-transition"}},[t._v(" "+t._s(t.alert_text)+" ")]),n("v-snackbar",{attrs:{timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},a=[],s=(n("4160"),n("caad"),n("d3b7"),n("2532"),n("159b"),n("f85f")),i=(n("9671"),n("f2cf")),c=[{key:0,display_name:"空闲"},{key:1,display_name:"已选"},{key:9,display_name:"剔除"}],r=[{key:0,display_name:"否"},{key:1,display_name:"是"}],u=[{key:0,display_name:"✘"},{key:1,display_name:"✔"}],l=[{key:1,display_name:"小户型"},{key:2,display_name:"中户型"},{key:3,display_name:"大户型"}],d={name:"Bills",components:{StartChouQian:function(){return n.e("chunk-20f0937e").then(n.bind(null,"b03d"))}},data:function(){return{countdown:"30",timer:null,batch_code:1,myOption:{step:.5,limitMoveNum:26,hoverStop:!1,direction:1,openWatch:!1,singleHeight:0,singleWidth:0,waitTime:3e3},snackbar:!1,text:"",timeout:3e3,alert:!1,alert_text:"",printer:{single:{color:"blue",icon:"mdi-printer"},batch:{color:"secondary",icon:"mdi-printer"},pay:{color:"green",icon:"mdi-cash-usd"}},action:{color:"info",icon:"mdi-message-text"},statusOptions:c,multiOptions:r,checkFlagOptions:u,areaitemOptions:l,exportItems:[],labelitems:{},items:[],villages_count:0,temp:{a:{villagecomb_id:1,population:1223},b:{villagecomb_id:2,population:371},c:{villagecomb_id:3,population:66},d:{villagecomb_id:4,population:36},e:{villagecomb_id:5,population:19}},houses_count:0,labels_count:0,customers_count:0,customers_count_static:492,housesList:[],circle:!0,disabled:!1,length:10,greenColor:"rgb(81, 185, 116)",blankColor:"rgb(90, 90, 90)",redColor:"rgb(231, 111, 111)",starColor:"rgb(240, 70, 70)",orangeColor:"rgb(247, 172, 11)",nextIcon:"mdi-chevron-right",prevIcon:"mdi-chevron-left",totalVisible:10,total_pages:0,listQuery:{page:1,limit:1e4,randomint:1200}}},computed:{isAdminRole:function(){return!!this.$store.getters.roles.includes("administrator")}},created:function(){this.getLabelitems(),this.getHousesCount(),this.getLabelsCount(),this.getHousesList();var t=parseInt(this.temp.a.population),e=parseInt(this.temp.b.population),n=parseInt(this.temp.c.population),o=parseInt(this.temp.d.population),a=parseInt(this.temp.e.population);this.customers_count=t+e+n+o+a},watch:{},methods:{getHousesCount:function(){var t=this;Object(i["d"])().then((function(e){t.houses_count=e.data.houses_count,setTimeout((function(){t.listLoading=!1}),1500)}))},getLabelsCount:function(){var t=this;Object(s["e"])().then((function(e){t.labels_count=e.data.labels_count,setTimeout((function(){t.listLoading=!1}),1500)}))},getLabelitems:function(){var t=this;Object(s["d"])().then((function(e){t.labelitems=e.data,setTimeout((function(){t.listLoading=!1}),1500)}))},sliceLabels:function(){var t=this;console.log("sliceLabels: ",this.sliceLabels),Object(s["i"])(this.temp).then((function(e){t.labelitems=e.data,setTimeout((function(){t.listLoading=!1}),1500)}))},resetLabelsClicked:function(){var t=this;console.log("resetLabels: ",this.resetLabels),Object(s["g"])(s["g"]).then((function(e){setTimeout((function(){t.listLoading=!1}),1500)}))},onChange:function(){var t=parseInt(this.temp.a.population),e=parseInt(this.temp.b.population),n=parseInt(this.temp.c.population),o=parseInt(this.temp.d.population),a=parseInt(this.temp.e.population);this.customers_count=t+e+n+o+a},onCountdownChange:function(){this.countdown<30&&(this.text="倒计时设置时长必须大于30s",this.snackbar=!0,this.countdown=30)},onReset:function(){var t=this;console.log("onConfirm"),this.$confirm("此操作将重置所有数据，之前抽取的数据将会丢失，确认？").then((function(e){e&&t.resetLabelsClicked().then((function(e){t.text="数据重置完成",t.snackbar=!0}))})),setTimeout((function(){t.getLabelitems(),t.getHousesCount(),t.getLabelsCount()}),3e3)},goStatistics:function(){this.$router.push({name:"汇总数据"})},goHouseList:function(){this.$router.push({name:"抽签房源"})},onConfirm:function(){var t=this;console.log("onConfirm"),this.$confirm("现在抽取第",this.batch_code,"批房源，确认？").then((function(e){e&&t.sliceLabels()}))},getNamefromOptions:function(t,e){var n="";return t.forEach((function(t){t.key===e&&(n=t.display_name)})),n},getHousesList:function(){var t=this;this.listLoading=!0,Object(i["c"])(this.listQuery).then((function(e){t.housesList=e.data.items,setTimeout((function(){t.listLoading=!1}),500)}))}}},p=d,m=(n("06a0"),n("2877")),h=n("6544"),f=n.n(h),b=n("0798"),g=n("8336"),_=n("b0af"),v=n("a523"),x=n("132d"),C=n("0fd9"),y=n("2db4"),k=n("8654"),O=Object(m["a"])(p,o,a,!1,null,null,null);e["default"]=O.exports;f()(O,{VAlert:b["a"],VBtn:g["a"],VCard:_["a"],VContainer:v["a"],VIcon:x["a"],VRow:C["a"],VSnackbar:y["a"],VTextField:k["a"]})},f2cf:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return c}));var o=n("b775");function a(t){return Object(o["a"])({url:"/houses",method:"get",params:t})}function s(t){return Object(o["a"])({url:"/houses",method:"post",data:t})}function i(t){return Object(o["a"])({url:"/houses/".concat(t),method:"delete"})}function c(){return Object(o["a"])({url:"/houses/count",method:"get"})}},f85f:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return i})),n.d(e,"f",(function(){return c})),n.d(e,"h",(function(){return r})),n.d(e,"e",(function(){return u})),n.d(e,"i",(function(){return l})),n.d(e,"g",(function(){return d})),n.d(e,"c",(function(){return p}));var o=n("b775");function a(t){return Object(o["a"])({url:"/labels/".concat(t),method:"get"})}function s(t){return Object(o["a"])({url:"/labels",method:"get",params:t})}function i(t){return Object(o["a"])({url:"/labels/".concat(t),method:"delete"})}function c(){return Object(o["a"])({url:"/labelslist",method:"get"})}function r(t,e){return Object(o["a"])({url:"/labels/".concat(t),method:"put",data:e})}function u(){return Object(o["a"])({url:"/labels/count",method:"get"})}function l(t){return Object(o["a"])({url:"/labels",method:"put",data:t})}function d(){return Object(o["a"])({url:"/labels/reset",method:"put"})}function p(){return Object(o["a"])({url:"/labels/statistics",method:"get"})}}}]);
//# sourceMappingURL=chunk-56358672.9748ad4d.js.map