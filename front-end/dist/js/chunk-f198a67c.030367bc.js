(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f198a67c"],{"385c":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return r}));var s=i("b775");function a(t){return Object(s["a"])({url:"/bills",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/bills/".concat(t),method:"get"})}function r(t){return Object(s["a"])({url:"/bills",method:"put",data:t})}},"409d":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"px-10 py-4",attrs:{fluid:""},scopedSlots:t._u([{key:"after-heading",fn:function(){},proxy:!0}])},[i("v-row",{staticClass:"d-flex justify-space-between mx-1 mb-0"},[i("v-col",{attrs:{cols:"9",md:"9"}},[i("v-select",{staticStyle:{"max-width":"120px"},attrs:{items:t.statusOptions,"item-text":"display_name","item-value":"key","menu-props":"auto","hide-details":"",label:"结算状态","single-line":""},model:{value:t.listQuery.status,callback:function(e){t.$set(t.listQuery,"status",e)},expression:"listQuery.status"}})],1),i("v-col",{attrs:{cols:"3",md:"3"}},[i("v-btn",{staticClass:"mx-3",attrs:{color:"primary"},on:{click:t.getList}},[t._v(" 查询 "),i("v-icon",{attrs:{right:""}},[t._v("mdi-magnify")])],1),i("v-btn",{staticClass:"mx-3",attrs:{color:"primary"},on:{click:t.resetQuery}},[t._v(" 重置 "),i("v-icon",{attrs:{right:""}},[t._v("mdi-lock-reset")])],1)],1)],1),i("v-alert",{attrs:{value:t.alert,color:"red",dark:"",border:"top",icon:"mdi-bell",transition:"scale-transition"}},[t._v(" "+t._s(t.alert_text)+" ")]),i("v-simple-table",{attrs:{"fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",[t._v("ID")]),i("th",[t._v("编号")]),i("th",[t._v("户主姓名")]),i("th",[t._v("面积1")]),i("th",[t._v("面积2")])])]),i("tbody",t._l(t.items,(function(e){return i("tr",{key:e.id},[i("td",{staticClass:"grey--text",staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(e.id)+" ")]),i("td",{staticClass:"grey--text",staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(e.sequence)+" ")]),i("td",{staticClass:"grey--text",staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(e.customer)+" ")]),i("td",{staticClass:"grey--text",staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(e.customer_population_area)+" ")]),i("td",{staticClass:"grey--text",staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(e.customer_property_area)+" ")]),i("td",{staticClass:"grey--text",staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(e.customer)+" ")]),i("td",{staticClass:"grey--text",staticStyle:{"font-size":"11px"}},[i("v-btn",{attrs:{color:t.printer.single.color,icon:"",fab:"","x-small":""},on:{click:function(i){return t.handlePrintBill(e)}}},[i("v-icon",{domProps:{textContent:t._s(t.printer.single.icon)}})],1)],1)])})),0)]},proxy:!0}])}),i("div",{staticClass:"text-center"},[i("v-row",{attrs:{justify:"center",align:"center"}},[i("v-pagination",{attrs:{circle:t.circle,disabled:t.disabled,length:t.total_pages,"next-icon":t.nextIcon,"prev-icon":t.prevIcon,"total-visible":t.totalVisible,value:t.listQuery.page},on:{input:t.paginationChangeHandler},model:{value:t.listQuery.page,callback:function(e){t.$set(t.listQuery,"page",e)},expression:"listQuery.page"}})],1)],1),i("v-snackbar",{attrs:{timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},a=[],n=(i("4160"),i("caad"),i("2532"),i("159b"),i("385c")),r=[{key:0,display_name:"空闲"},{key:1,display_name:"已选"},{key:9,display_name:"剔除"}],o={name:"Bills",components:{},data:function(){return{snackbar:!1,text:"",timeout:3e3,alert:!1,alert_text:"",printer:{single:{color:"blue",icon:"mdi-printer"},batch:{color:"secondary",icon:"mdi-printer"},pay:{color:"green",icon:"mdi-cash-usd"}},action:{color:"info",icon:"mdi-message-text"},exportItems:[],items:[],listQuery:{page:1,limit:10,sort:"+id"},search:void 0,awaitingSearch:!1,circle:!0,disabled:!1,length:10,greenColor:"rgb(81, 185, 116)",blankColor:"rgb(90, 90, 90)",redColor:"rgb(231, 111, 111)",starColor:"rgb(240, 70, 70)",orangeColor:"rgb(247, 172, 11)",nextIcon:"mdi-chevron-right",prevIcon:"mdi-chevron-left",totalVisible:10,total_pages:0,statusOptions:r,exportFields:{"序号":"id","小区或地块":"garden","楼幢":"building","单元":"unit","门牌":"number","楼层":"floor","状态":"status","面积":"area","自行车库":"sub_area","号箱":"box_name","号箱描述":"box_description","户型类别":"house_type","创建日期":"create_time"}}},computed:{isAdminRole:function(){return!!this.$store.getters.roles.includes("administrator")}},created:function(){this.getList()},watch:{},methods:{getQuery:function(){var t=this;setTimeout((function(){return t.getList()}),500)},getList:function(){var t=this;console.log("xxxx"),this.listLoading=!0,this.listQuery.limit=10;var e={customer_id:this.$route.params.id};Object(n["b"])(e).then((function(e){t.items=e.data.items,t.total_pages=e.data._meta.total_pages,console.log(t.items),setTimeout((function(){t.listLoading=!1}),1500)}))},handlePrintBill:function(t){this.$router.push({name:"打印结算单",params:{id:t.id}})},resetQuery:function(){this.listQuery={page:1,limit:10,sort:"+id"},this.getList()},getNamefromOptions:function(t,e){var i="";return t.forEach((function(t){t.key===e&&(i=t.display_name)})),i},paginationChangeHandler:function(t){this.listQuery.page=t,this.getList()},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}}},l=o,c=(i("cfb4"),i("2877")),u=i("6544"),d=i.n(u),p=i("0798"),m=i("8336"),f=i("62ad"),g=i("a523"),b=i("132d"),v=i("891e"),y=i("0fd9"),_=i("b974"),h=i("1f4f"),x=i("2db4"),k=Object(c["a"])(l,s,a,!1,null,null,null);e["default"]=k.exports;d()(k,{VAlert:p["a"],VBtn:m["a"],VCol:f["a"],VContainer:g["a"],VIcon:b["a"],VPagination:v["a"],VRow:y["a"],VSelect:_["a"],VSimpleTable:h["a"],VSnackbar:x["a"]})},"481b":function(t,e,i){},cfb4:function(t,e,i){"use strict";var s=i("481b"),a=i.n(s);a.a}}]);
//# sourceMappingURL=chunk-f198a67c.030367bc.js.map