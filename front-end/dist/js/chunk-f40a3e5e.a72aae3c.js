(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f40a3e5e"],{"1fce":function(t,e,a){"use strict";var n=a("676f"),u=a.n(n);u.a},"4e37":function(t,e,a){"use strict";a.d(e,"a",(function(){return u})),a.d(e,"b",(function(){return o}));var n=a("b775");function u(){return Object(n["a"])({url:"/audios",method:"get"})}function o(t,e){return Object(n["a"])({url:"/audios/".concat(t),method:"put",data:e})}},"676f":function(t,e,a){},"909f":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"marquee-wrap"},[a("div",{ref:"marquee",staticClass:"marquee",style:{animationDuration:t.duration}},t._l(t.data,(function(e,n){return a("span",{key:n,staticClass:"text-item"},[a("i",{staticClass:"mdi mdi-bell-ring-outline ring"}),t._v(" "+t._s(e.text)+" "+t._s(t.$moment(e.create_at).utc().format("YYYY-MM-DD HH:mm"))+" ")])})),0)])},u=[],o=(a("a9e3"),{name:"marquee",props:{data:{type:Array,default:function(){return[]}},speed:{type:Number,default:10}},data:function(){return{duration:0}},mounted:function(){this.duration="30s",console.log(" marquee this.duration: ",this.duration)}}),r=o,i=(a("1fce"),a("2877")),s=Object(i["a"])(r,n,u,!1,null,"770c1868",null);e["a"]=s.exports},9671:function(t,e,a){"use strict";a.d(e,"h",(function(){return u})),a.d(e,"e",(function(){return o})),a.d(e,"f",(function(){return r})),a.d(e,"g",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"k",(function(){return c})),a.d(e,"d",(function(){return l})),a.d(e,"j",(function(){return d})),a.d(e,"i",(function(){return m})),a.d(e,"a",(function(){return f})),a.d(e,"b",(function(){return h}));var n=a("b775");function u(t){return Object(n["a"])({url:"/customers",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/customers/".concat(t),method:"get"})}function r(t){return Object(n["a"])({url:"/customers/code/".concat(t),method:"get"})}function i(t,e){return Object(n["a"])({url:"/customers/".concat(t,"/choices"),method:"post",data:e})}function s(t){return Object(n["a"])({url:"/customers",method:"post",data:t})}function c(t,e){return Object(n["a"])({url:"/customers/".concat(t),method:"put",data:e})}function l(t){return Object(n["a"])({url:"/customers/".concat(t),method:"delete"})}function d(){return Object(n["a"])({url:"/customerslist",method:"get"})}function m(){return Object(n["a"])({url:"/customers/count",method:"get"})}function f(t){return Object(n["a"])({url:"/customers/callnumber",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/customers/callnumberbycontrol",method:"post",data:t})}},"9dbb":function(t,e,a){"use strict";var n=a("d85e"),u=a.n(n);u.a},d85e:function(t,e,a){},fa9a:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"px-8",staticStyle:{"min-height":"720px"},attrs:{fluid:""},scopedSlots:t._u([{key:"after-heading",fn:function(){},proxy:!0}])},[a("div",{staticClass:"marquee"},[a("marquee",{attrs:{data:t.marqueeList}})],1),a("v-row",{staticClass:"ma-0 d-flex justify-space-between "},[a("v-col",{attrs:{cols:"9"}},[t._l(t.customers,(function(e){return a("span",{key:e.id},[e.is_called?a("span",[a("v-badge",{class:"my-badge-"+e.is_called,attrs:{overlap:"",content:e.is_called,"offset-x":"20","offset-y":"20"}},[a("v-btn",{class:"my-btn-"+e.is_called+" mx-2 my-2",staticStyle:{width:"120px"},attrs:{disabled:"-"==e.lottery_sequence},on:{click:function(a){return t.generateAudio(e)}}},[t._v(t._s(e.lottery_sequence)+"."+t._s(e.name))])],1)],1):a("span",[a("v-btn",{class:"my-btn-"+e.is_called+" mx-2 my-2",staticStyle:{width:"120px"},attrs:{disabled:"-"==e.lottery_sequence},on:{click:function(a){return t.generateAudio(e)}}},[t._v(t._s(e.lottery_sequence)+"."+t._s(e.name))])],1)])})),a("v-pagination",{staticClass:"my-3 mx-0",attrs:{circle:t.circle,disabled:t.disabled,length:t.total_pages,"next-icon":t.nextIcon,"prev-icon":t.prevIcon,"total-visible":t.totalVisible,value:t.listQuery.page},on:{input:t.paginationChangeHandler},model:{value:t.listQuery.page,callback:function(e){t.$set(t.listQuery,"page",e)},expression:"listQuery.page"}})],2),a("v-col",{attrs:{cols:"3"}},[a("vuetify-audio",{staticClass:"mt-3",attrs:{file:t.audio_url,color:"warning",autoPlay:t.autoPlay,ended:t.freshCustomers}})],1)],1)],1)},u=[],o=(a("caad"),a("c975"),a("d3b7"),a("2532"),a("909f")),r=a("4e37"),i=a("9671"),s="https://taozhuang.tuozhanad.com",c={name:"PodCast",components:{marquee:o["a"],VuetifyAudio:function(){return a.e("chunk-2d0c9adc").then(a.bind(null,"59bd"))}},data:function(){return{start_number:1,offset:5,audio:{audiotype:0,lottery_sequence:1,text:""},autoPlay:!0,autoCall:!0,audio_url:"https://taozhuang.tuozhanad.com/audios/coloredeer4.mp3",data:"",marqueeList:[{text:"欢迎使用九色鹿抽签管理系统"}],timer:0,i:0,message:"Hello, world ~!",timeout:3e3,customers:[],customer:{},listQuery:{page:1,limit:80,customer_code:void 0,customer_name:void 0,status:void 0,remain_area_greater_twenty:void 0,sort:"+id",orderby:2,paged:1,check_flag:void 0,village_id:void 0},total_pages:0,totalVisible:10,nextIcon:"mdi-chevron-right",prevIcon:"mdi-chevron-left",circle:!0,disabled:!1,badgeColor:"rgb(#7c2b02 .8)"}},computed:{},created:function(){this.getCustomers()},destroyed:function(){clearInterval(this.timer)},methods:{getCustomers:function(){var t=this,e=this.listQuery;Object(i["h"])(e).then((function(e){t.customers=e.data.items,t.total_pages=e.data._meta.total_pages,console.log(t.customers)}))},getAudio:function(){var t=this;Object(r["a"])().then((function(e){e.data.id&&(clearInterval(t.timer),t.audio=e.data,setTimeout((function(){t.audio_url=s+t.audio.uri,t.marqueeList.includes(t.audio.text)||(t.marqueeList.shift(),t.marqueeList.push(t.audio))}),5e3))}))},freshCustomers:function(){this.customers.indexOf(this.customer)==this.customers.length-1&&(this.listQuery.page=this.listQuery.page+1),this.getCustomers()},pageUp:function(){this.listQuery.page=this.listQuery.page-1,this.getCustomers()},pageDown:function(){this.listQuery.page=this.listQuery.page+1,this.getCustomers()},paginationChangeHandler:function(t){console.log("paginationChangeHandler, pageNumber: ",t),this.listQuery.page=t,this.getCustomers()},generateAudio:function(t){var e=this;this.customer=t;var a="请选房顺序号，第"+t.lottery_sequence+"号代表，上台选房。";console.log("generateAudio");var n={text:a,customer_id:t.id};Object(i["b"])(n).then((function(t){e.audio=t.data,setTimeout((function(){e.audio_url=s+e.audio.uri,e.marqueeList.includes(e.audio.text)?console.log("the same audio.text"):(e.marqueeList.shift(),e.marqueeList.push(e.audio))}),3e3)}))}}},l=c,d=(a("9dbb"),a("2877")),m=a("6544"),f=a.n(m),h=a("4ca6"),g=a("8336"),p=a("62ad"),b=a("a523"),y=a("891e"),_=a("0fd9"),v=Object(d["a"])(l,n,u,!1,null,"f8f9b0ce",null);e["default"]=v.exports;f()(v,{VBadge:h["a"],VBtn:g["a"],VCol:p["a"],VContainer:b["a"],VPagination:y["a"],VRow:_["a"]})}}]);
//# sourceMappingURL=chunk-f40a3e5e.a72aae3c.js.map