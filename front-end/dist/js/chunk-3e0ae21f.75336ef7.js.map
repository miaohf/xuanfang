{"version":3,"sources":["webpack:///./src/api/boxes.js","webpack:///./src/api/areaitems.js","webpack:///./src/api/choices.js","webpack:///./src/api/customers.js","webpack:///./src/views/choices/addChoice.vue?b7ed","webpack:///src/views/choices/addChoice.vue","webpack:///./src/views/choices/addChoice.vue?bf24","webpack:///./src/views/choices/addChoice.vue?e6c5","webpack:///./src/views/choices/addChoice.vue?4477","webpack:///./src/api/gardens.js"],"names":["fetchBoxesList","query","request","url","method","params","fetchBoxesListByPost2","data","fetchAreaitems","createChoice","deleteChoice","fetchCustomers","fetchCustomer","id","fetchCustomerByCode","customer_code","fetchCustomerChoices","createCustomer","updateCustomer","deleteCustomer","fetchCustomersList","fetchCustomersCount","callNumber","callNumberbyControl","render","_vm","this","_h","$createElement","_c","_self","attrs","timeout","model","value","callback","$$v","snackbar","expression","_v","_s","text","staticClass","on","goBack","staticStyle","customersList","getCustomer","scopedSlots","_u","key","fn","proxy","ref","attr","item","selected","_g","_b","domProps","name","symbol","temp","$set","mustExhaustMyArea","handleScan","scan","customer","lottery_sequence","village","phone","myarea","myarea_choice_remain","area_selected","toFixed","_l","li","i","box_name","garden_name","la","area","class","$event","removeLabelitem","labelitems","length","addCustomerChoices","_e","choices_selected","reset","directives","rawName","deleteCustomerChoices","color","gardens","g","index","get_garden_disabled","onGardenChanged","checkbox_gardens","radio_garden","b","get_box_disabled","greyColor","greenColor","free_choice_count","get_choice_count","onBoxClick","staticRenderFns","components","filters","statusFilter","published","draft","deleted","statusMap","status","dt_now","action","icon","icons","left","right","info","success","warning","error","details","selected_gardens","choice_count","labels_quantity","boxes","type","maxNumberOfChoices","customer_id","areaitems_max_area","printObj","popTitle","extraCss","extraHead","printCertificateObj","computed","isAdminRole","$store","getters","roles","includes","created","getCustomers","getAreaitems","getBoxesByPost","getGardensList","Date","now","methods","$router","go","setTimeout","console","log","check_district_box","gardenIds","garden_id","district_box","find","get_gardenid_from_boxid","boxes_allinone","listLoading","reCheck","box_id","filter","getAreaSelected","total","push","box","concat","sort","labelitem","$confirm","then","res","response","substr","getCustomerByCode","getNamefromOptions","options","forEach","showname","display_name","getSortClass","component","VAutocomplete","VBadge","VBtn","VCard","VCheckbox","VChip","VCol","VContainer","VDivider","VIcon","VLabel","VListItem","VListItemContent","VList","VListItemSubtitle","VListItemTitle","VRadio","VRadioGroup","VRow","VSnackbar","VSpacer","VTextField","fetchGardensList","fetchGardens"],"mappings":"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","file":"js/chunk-3e0ae21f.75336ef7.js","sourcesContent":["import request from '@/utils/request'\r\n\r\nexport function fetchBoxesList(query) {\r\n  return request({\r\n    url: '/boxeslist',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\n\r\nexport function fetchBoxesListByPost(data) {\r\n  return request({\r\n    url: '/boxeslist',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\nexport function fetchBoxesListByPost2(data) {\r\n  return request({\r\n    url: '/boxeslist2',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// export function fetchBook(id) {\r\n//   return request({\r\n//     url: `/books/${id}`,\r\n//     method: 'get'\r\n//   })\r\n// }\r\n\r\n// export function createBook(data) {\r\n//   return request({\r\n//     url: '/books',\r\n//     method: 'post',\r\n//     data\r\n//   })\r\n// }\r\n\r\n// export function updateBook(id, data) {\r\n//   return request({\r\n//     url: `/books/${id}`,\r\n//     method: 'put',\r\n//     data\r\n//   })\r\n// }\r\n\r\n// export function deleteBook(id) {\r\n//   return request({\r\n//     url: `/books/${id}`,\r\n//     method: 'delete'\r\n//   })\r\n// }\r\n","import request from '@/utils/request'\r\n\r\nexport function fetchAreaitems() {\r\n  return request({\r\n    url: '/areaitems',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n","import request from '@/utils/request'\r\n\r\n// export function fetchContracts(query) {\r\n//   return request({\r\n//     url: '/contracts',\r\n//     method: 'get',\r\n//     params: query\r\n//   })\r\n// }\r\n\r\n// export function fetchContract(id) {\r\n//   return request({\r\n//     url: `/contracts/${id}`,\r\n//     method: 'get'\r\n//   })\r\n// }\r\n\r\nexport function createChoice(data) {\r\n  return request({\r\n    url: '/choices',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function deleteChoice(data) {\r\n  return request({\r\n    url: `/choices`,\r\n    method: 'delete',\r\n    data\r\n  })\r\n}\r\n\r\n// export function deleteChoice(id) {\r\n//   return request({\r\n//     url: `/contracts/${id}`,\r\n//     method: 'delete'\r\n//   })\r\n// }\r\n","import request from '@/utils/request'\r\n\r\nexport function fetchCustomers(query) {\r\n  return request({\r\n    url: '/customers',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function fetchCustomer(id) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n\r\nexport function fetchCustomerByCode(customer_code) {\r\n  return request({\r\n    url: `/customers/code/${customer_code}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function fetchCustomerChoices(id, data) {\r\n  return request({\r\n    url: `/customers/${id}/choices`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\nexport function createCustomer(data) {\r\n  return request({\r\n    url: '/customers',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function updateCustomer(id, data) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\nexport function deleteCustomer(id) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n\r\nexport function fetchCustomersList() {\r\n  return request({\r\n    url: '/customerslist',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function fetchCustomersCount() {\r\n  return request({\r\n    url: '/customers/count',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n\r\nexport function callNumber(data) {\r\n  return request({\r\n    url: '/customers/callnumber',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function callNumberbyControl(data) {\r\n  return request({\r\n    url: '/customers/callnumberbycontrol',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-snackbar',{attrs:{\"timeout\":_vm.timeout},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")]),_c('v-row',{staticClass:\"d-flex justify-start mx-1\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"1\",\"md\":\"1\"}},[_c('v-btn',{staticClass:\"primary mx-3\",on:{\"click\":_vm.goBack}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-arrow-left-bold\")]),_vm._v(\" 返回 \")],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"1\",\"md\":\"2\"}},[_c('v-autocomplete',{staticStyle:{\"max-width\":\"400px\"},attrs:{\"items\":_vm.customersList,\"chips\":\"\",\"clearable\":\"\",\"hide-details\":\"\",\"hide-selected\":\"\",\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"选择户主\",\"solo\":\"\"},on:{\"change\":_vm.getCustomer},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [_c('v-list-item',[_c('v-list-item-title',[_vm._v(\" 等待加载数据中 \"),_c('strong',[_vm._v(\"九色鹿网络\")])])],1)]},proxy:true},{key:\"selection\",fn:function(ref){\nvar attr = ref.attr;\nvar on = ref.on;\nvar item = ref.item;\nvar selected = ref.selected;\nreturn [_c('v-chip',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"input-value\":selected,\"color\":\"blue-grey\"}},'v-chip',attr,false),on),[_c('span',{domProps:{\"textContent\":_vm._s(item.name)}})])]}},{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(item.name)}}),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(item.symbol)}})],1)]}}]),model:{value:(_vm.temp.customer_id),callback:function ($$v) {_vm.$set(_vm.temp, \"customer_id\", $$v)},expression:\"temp.customer_id\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"1\",\"md\":\"2\"}},[_c('v-checkbox',{attrs:{\"label\":\"必须用完全部面积\"},model:{value:(_vm.mustExhaustMyArea),callback:function ($$v) {_vm.mustExhaustMyArea=$$v},expression:\"mustExhaustMyArea\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"1\",\"md\":\"7\"}},[_c('v-text-field',{staticClass:\"ml-auto\",staticStyle:{\"max-width\":\"300px\"},attrs:{\"autofocus\":\"\",\"append-icon\":\"mdi-barcode\",\"label\":\"扫码输入\",\"hide-details\":\"\",\"single-line\":\"\"},on:{\"input\":_vm.handleScan},model:{value:(_vm.scan.value),callback:function ($$v) {_vm.$set(_vm.scan, \"value\", $$v)},expression:\"scan.value\"}})],1)],1),_c('v-card',{staticClass:\"ma-3 pa-6\"},[(_vm.customer.id)?_c('div',{staticClass:\"ml-6\"},[_c('div',{staticClass:\"print-magin\",attrs:{\"id\":\"printMe\"}},[_c('h1',{staticClass:\"ma-3 printstyle-h1\"},[_vm._v(\" \"+_vm._s(_vm.customer.name)+\" \")]),_c('div',[_c('span',{staticClass:\"ma-3 printstyle\"},[_vm._v(\" 抽签顺序号： \"),_c('span',{staticClass:\"ma-3 printstyle-h2\"},[_vm._v(_vm._s(_vm.customer.lottery_sequence)+\"，\")])]),_c('span',{staticClass:\"ma-3 printstyle\"},[_c('span',{staticClass:\"noprint\"},[_vm._v(\"所在村：\")]),_vm._v(\" \"+_vm._s(_vm.customer.village)+\"，\")]),_c('span',{staticClass:\"ma-3 printstyle noprint\"},[_vm._v(\"电话：\"+_vm._s(_vm.customer.phone)+\"，\")]),_c('span',{staticClass:\"ma-3 printstyle\"},[_vm._v(\"总面积： \"),_c('span',{staticClass:\"ma-3 printstyle-h2\"},[_vm._v(\" \"+_vm._s(_vm.customer.myarea)+\" m²\")]),_vm._v(\"， \")]),_c('span',{staticClass:\"ma-3 printstyle noprint\"},[_vm._v(\" 面积差：\"+_vm._s((_vm.customer.myarea_choice_remain - _vm.area_selected).toFixed(2))+\" m² \")])]),_c('br'),_vm._l((_vm.customer.choices_selected),function(li,i){return _c('div',{key:i,staticClass:\"ma-3\"},[_c('span',{staticClass:\"choice_font\"},[_vm._v(\" \"+_vm._s(i + 1)+\"： \"+_vm._s(li.box_name)+\" \")]),_c('span',{staticClass:\"ml-2 mr-6 choice_font\"},[_vm._v(\" \"+_vm._s(li.garden_name)+\" \"),_vm._l((li.labelareas),function(la,i){return _c('span',{key:i},[_vm._v(\" \"+_vm._s(la.area.toFixed(2))+\"m² \")])})],2)])}),_c('v-row',{staticClass:\"ma-3 d-flex justify-space-between \"},[_vm._l((_vm.temp.labelitems),function(li,i){return _c('div',{key:i},[_c('v-btn',{class:(\"choice_background-\" + (li.garden_id) + \" box-shadow-\" + (li.deliver_type) + \" noprint\"),on:{\"click\":function($event){return _vm.removeLabelitem(li)}}},[_vm._v(\" \"+_vm._s(li.box_name)+\" \")]),_c('span',{staticClass:\"ml-2 mr-6\",staticStyle:{\"color\":\"grey\",\"font-weight\":\"400\"}},[_vm._v(\" \"+_vm._s(li.garden_name)+\" \"),_vm._l((li.labelareas),function(la,i){return _c('span',{key:i},[_vm._v(\" \"+_vm._s(la.area.toFixed(2))+\"m² \")])})],2)],1)}),_c('v-spacer'),(\n              _vm.temp.labelitems.length > 0 &&\n                (_vm.customer.myarea_choice_remain - _vm.area_selected < 20 || !_vm.mustExhaustMyArea)\n\n            )?_c('v-btn',{staticClass:\"info mr-3\",on:{\"click\":function($event){return _vm.addCustomerChoices()}}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\" mdi-check\")]),_vm._v(\"提交 \")],1):_vm._e(),(_vm.customer.choices_selected.length == 0)?_c('v-btn',{staticClass:\"warning mr-3\",on:{\"click\":_vm.reset}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-restart\")]),_vm._v(\"重置 \")],1):_vm._e(),(_vm.customer.choices_selected.length > 0)?_c('v-btn',{directives:[{name:\"print\",rawName:\"v-print\",value:(_vm.printObj),expression:\"printObj\"}],staticClass:\"info mr-3 noprint\"},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-printer\")]),_vm._v(\"打印 \")],1):_vm._e(),(_vm.customer.choices_selected.length > 0)?_c('v-btn',{staticClass:\"warning noprint\",on:{\"click\":_vm.deleteCustomerChoices}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-delete\")]),_vm._v(\"删除 \")],1):_vm._e()],2)],2),_c('v-divider',{staticClass:\"my-6\"})],1):_vm._e(),(_vm.customer.choices_selected.length == 0)?_c('v-row',{staticClass:\"my-6\"},[_c('v-label',[_c('v-chip',{staticClass:\"mx-8 mt-1\",attrs:{\"label\":\"\",\"color\":_vm.color,\"text-color\":\"white\"}},[_c('h3',[_vm._v(\" 多选小区 \")])])],1),_vm._l((_vm.gardens[0]),function(g,index){return _c('v-checkbox',{key:index,class:(\"background-\" + (_vm.get_garden_disabled(g)) + \"-\" + (g.id) + \" ml-3 mr-3 my-0\"),attrs:{\"multiple\":\"\",\"value\":g.id,\"label\":g.name,\"hide-details\":\"\",\"disabled\":_vm.get_garden_disabled(g)},on:{\"change\":function($event){return _vm.onGardenChanged(g)}},model:{value:(_vm.checkbox_gardens),callback:function ($$v) {_vm.checkbox_gardens=$$v},expression:\"checkbox_gardens\"}})})],2):_vm._e(),(_vm.customer.choices_selected.length == 0)?_c('v-row',[_c('v-label',[_c('v-chip',{staticClass:\"mx-8 mt-1\",attrs:{\"label\":\"\",\"color\":_vm.color,\"text-color\":\"white\"}},[_c('h3',[_vm._v(\" 互斥小区 \")])])],1),_c('v-radio-group',{staticClass:\"my-0\",attrs:{\"row\":\"\"},model:{value:(_vm.radio_garden),callback:function ($$v) {_vm.radio_garden=$$v},expression:\"radio_garden\"}},_vm._l((_vm.gardens[1]),function(g,index){return _c('v-radio',{key:index,class:(\"background-\" + (_vm.get_garden_disabled()) + \"-\" + (g.id) + \" ml-3 mr-3 my-0\"),attrs:{\"value\":g.id,\"label\":g.name,\"disabled\":_vm.get_garden_disabled()},on:{\"change\":function($event){return _vm.onGardenChanged()}}})}),1)],1):_vm._e(),(_vm.customer.choices_selected.length == 0)?_c('v-row',{staticClass:\"d-flex justify-start mx-2 mb-6 \"},_vm._l((_vm.boxes),function(item,index){return _c('div',{key:index},_vm._l((item),function(b,i){return _c('v-badge',{key:i,staticClass:\"mx-3\",attrs:{\"bordered\":\"\",\"overlap\":\"\",\"color\":_vm.get_box_disabled(b) ? _vm.greyColor : _vm.greenColor,\"content\":b.free_choice_count - _vm.get_choice_count(b.id),\"offset-x\":\"12\",\"offset-y\":\"18\"}},[_c('v-btn',{class:(\"get_box_disabled(b) ? greyColor : box-\" + (_vm.get_box_disabled(b)) + \"-\" + (b.garden_id) + \" box-outlined-\" + (b.deliver_type) + \" my-1\"),attrs:{\"disabled\":_vm.get_box_disabled(b),\"outlined\":\"\"},on:{\"click\":function($event){return _vm.onBoxClick(b)}}},[_vm._v(\" \"+_vm._s(b.name + \",\")+\" \"),_vm._l((b.labelareas),function(la,i){return _c('span',{key:i},[(i == 0)?_c('span',[_vm._v(\" \"+_vm._s(la.area)+\" \")]):_c('span',[_vm._v(_vm._s(\"+\" + la.area)+\" \")])])}),_vm._v(\"㎡ \")],2)],1)}),1)}),0):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container fluid>\r\n    <v-snackbar v-model=\"snackbar\" :timeout=\"timeout\">\r\n      {{ text }}\r\n    </v-snackbar>\r\n    <v-row class=\"d-flex justify-start mx-1\">\r\n      <v-col cols=\"12\" sm=\"1\" md=\"1\">\r\n        <v-btn @click=\"goBack\" class=\"primary mx-3\">\r\n          <v-icon left>mdi-arrow-left-bold</v-icon> 返回\r\n        </v-btn>\r\n      </v-col>\r\n\r\n      <v-col cols=\"12\" sm=\"1\" md=\"2\">\r\n        <v-autocomplete\r\n          v-model=\"temp.customer_id\"\r\n          :items=\"customersList\"\r\n          chips\r\n          clearable\r\n          hide-details\r\n          hide-selected\r\n          item-text=\"name\"\r\n          item-value=\"id\"\r\n          label=\"选择户主\"\r\n          solo\r\n          style=\"max-width: 400px;\"\r\n          @change=\"getCustomer\"\r\n        >\r\n          <template v-slot:no-data>\r\n            <v-list-item>\r\n              <v-list-item-title>\r\n                等待加载数据中\r\n                <strong>九色鹿网络</strong>\r\n              </v-list-item-title>\r\n            </v-list-item>\r\n          </template>\r\n          <template v-slot:selection=\"{ attr, on, item, selected }\">\r\n            <v-chip\r\n              v-bind=\"attr\"\r\n              :input-value=\"selected\"\r\n              color=\"blue-grey\"\r\n              class=\"white--text\"\r\n              v-on=\"on\"\r\n            >\r\n              <span v-text=\"item.name\"></span>\r\n            </v-chip>\r\n          </template>\r\n          <template v-slot:item=\"{ item }\">\r\n            <v-list-item-content>\r\n              <v-list-item-title v-text=\"item.name\"></v-list-item-title>\r\n              <v-list-item-subtitle v-text=\"item.symbol\"></v-list-item-subtitle>\r\n            </v-list-item-content>\r\n          </template>\r\n        </v-autocomplete>\r\n      </v-col>\r\n      <v-col cols=\"12\" sm=\"1\" md=\"2\">\r\n        <v-checkbox\r\n          v-model=\"mustExhaustMyArea\"\r\n          label=\"必须用完全部面积\"\r\n        ></v-checkbox>\r\n      </v-col>\r\n      <v-col cols=\"12\" sm=\"1\" md=\"7\">\r\n        <v-text-field\r\n          autofocus\r\n          v-model=\"scan.value\"\r\n          append-icon=\"mdi-barcode\"\r\n          class=\"ml-auto\"\r\n          label=\"扫码输入\"\r\n          hide-details\r\n          single-line\r\n          @input=\"handleScan\"\r\n          style=\"max-width: 300px;\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n    <v-card class=\"ma-3 pa-6\">\r\n      <div v-if=\"customer.id\" class=\"ml-6\">\r\n        <div id=\"printMe\" class=\"print-magin\">\r\n          <h1 class=\"ma-3 printstyle-h1\">\r\n            {{ customer.name }}\r\n          </h1>\r\n          <div>\r\n            <span class=\"ma-3 printstyle\">\r\n              抽签顺序号：\r\n              <span class=\"ma-3 printstyle-h2\"\r\n                >{{ customer.lottery_sequence }}，</span\r\n              >\r\n            </span>\r\n            <span class=\"ma-3 printstyle\"\r\n              ><span class=\"noprint\">所在村：</span>\r\n              {{ customer.village }}，</span\r\n            >\r\n            <span class=\"ma-3 printstyle noprint\"\r\n              >电话：{{ customer.phone }}，</span\r\n            >\r\n            <span class=\"ma-3 printstyle\"\r\n              >总面积：\r\n              <span class=\"ma-3 printstyle-h2\"> {{ customer.myarea }} m²</span\r\n              >，\r\n            </span>\r\n            <span class=\"ma-3 printstyle noprint\">\r\n              面积差：{{\r\n                (customer.myarea_choice_remain - area_selected).toFixed(2)\r\n              }}\r\n              m²\r\n\r\n              <!-- 调试参数 -->\r\n              <!-- {{ area_selected }}\r\n              {{ choice_count }}\r\n              {{ params.boxes }} -->\r\n            </span>\r\n          </div>\r\n          <br />\r\n          <div\r\n            v-for=\"(li, i) in customer.choices_selected\"\r\n            :key=\"i\"\r\n            class=\"ma-3\"\r\n          >\r\n            <span class=\"choice_font\"> {{ i + 1 }}： {{ li.box_name }} </span>\r\n            <span class=\"ml-2 mr-6 choice_font\">\r\n              {{ li.garden_name }}\r\n              <!-- {{ li.area.toFixed(2) }}m² -->\r\n              <span v-for=\"(la, i) in li.labelareas\" :key=\"i\">\r\n                {{ la.area.toFixed(2) }}m²\r\n              </span>\r\n            </span>\r\n          </div>\r\n          <v-row class=\"ma-3 d-flex justify-space-between \">\r\n            <div v-for=\"(li, i) in temp.labelitems\" :key=\"i\">\r\n              <v-btn\r\n                :class=\"\r\n                  `choice_background-${li.garden_id} box-shadow-${li.deliver_type} noprint`\r\n                \"\r\n                @click=\"removeLabelitem(li)\"\r\n              >\r\n                {{ li.box_name }}\r\n              </v-btn>\r\n              <span style=\"color:grey;font-weight:400\" class=\"ml-2 mr-6\">\r\n                {{ li.garden_name }}\r\n                <!-- {{ li.area.toFixed(2) }}m² -->\r\n                <span v-for=\"(la, i) in li.labelareas\" :key=\"i\">\r\n                  {{ la.area.toFixed(2) }}m²\r\n                </span>\r\n              </span>\r\n            </div>\r\n            <v-spacer></v-spacer>\r\n            <v-btn\r\n              v-if=\"\r\n                temp.labelitems.length > 0 &&\r\n                  (customer.myarea_choice_remain - area_selected < 20 || !mustExhaustMyArea)\r\n\r\n              \"\r\n              class=\"info mr-3\"\r\n              @click=\"addCustomerChoices()\"\r\n            >\r\n              <v-icon left small> mdi-check</v-icon>提交\r\n            </v-btn>\r\n            <v-btn\r\n              v-if=\"customer.choices_selected.length == 0\"\r\n              @click=\"reset\"\r\n              class=\"warning mr-3\"\r\n            >\r\n              <!-- v-if=\"temp.labelitems.length > 0\" -->\r\n\r\n              <v-icon left small>mdi-restart</v-icon>重置\r\n            </v-btn>\r\n            <v-btn\r\n              v-if=\"customer.choices_selected.length > 0\"\r\n              v-print=\"printObj\"\r\n              class=\"info mr-3 noprint\"\r\n            >\r\n              <v-icon left small>mdi-printer</v-icon>打印\r\n            </v-btn>\r\n            <v-btn\r\n              v-if=\"customer.choices_selected.length > 0\"\r\n              @click=\"deleteCustomerChoices\"\r\n              class=\"warning noprint\"\r\n            >\r\n              <v-icon left small>mdi-delete</v-icon>删除\r\n            </v-btn>\r\n          </v-row>\r\n        </div>\r\n        <v-divider class=\"my-6\"></v-divider>\r\n      </div>\r\n\r\n      <v-row v-if=\"customer.choices_selected.length == 0\" class=\"my-6\">\r\n        <v-label\r\n          ><v-chip class=\"mx-8 mt-1\" label :color=\"color\" text-color=\"white\">\r\n            <h3>\r\n              多选小区\r\n            </h3>\r\n          </v-chip></v-label\r\n        >\r\n        <v-checkbox\r\n          v-for=\"(g, index) in gardens[0]\"\r\n          multiple\r\n          v-model=\"checkbox_gardens\"\r\n          :key=\"index\"\r\n          :value=\"g.id\"\r\n          :label=\"g.name\"\r\n          hide-details\r\n          :class=\"`background-${get_garden_disabled(g)}-${g.id} ml-3 mr-3 my-0`\"\r\n          :disabled=\"get_garden_disabled(g)\"\r\n          @change=\"onGardenChanged(g)\"\r\n        />\r\n      </v-row>\r\n      <v-row v-if=\"customer.choices_selected.length == 0\">\r\n        <v-label\r\n          ><v-chip class=\"mx-8 mt-1\" label :color=\"color\" text-color=\"white\">\r\n            <h3>\r\n              互斥小区\r\n            </h3>\r\n          </v-chip></v-label\r\n        >\r\n        <v-radio-group v-model=\"radio_garden\" row class=\"my-0\">\r\n          <v-radio\r\n            v-for=\"(g, index) in gardens[1]\"\r\n            :key=\"index\"\r\n            :value=\"g.id\"\r\n            :label=\"g.name\"\r\n            :class=\"\r\n              `background-${get_garden_disabled()}-${g.id} ml-3 mr-3 my-0`\r\n            \"\r\n            :disabled=\"get_garden_disabled()\"\r\n            @change=\"onGardenChanged()\"\r\n          ></v-radio>\r\n        </v-radio-group>\r\n\r\n        <!-- <span>\r\n          'radio_garden: '{{ radio_garden }}； 'selected_gardens：'\r\n          {{ selected_gardens }}\r\n          'params.boxes'\r\n          {{ params.boxes }}\r\n        </span> -->\r\n      </v-row>\r\n\r\n      <v-row\r\n        v-if=\"customer.choices_selected.length == 0\"\r\n        class=\"d-flex justify-start mx-2 mb-6 \"\r\n      >\r\n        <div v-for=\"(item, index) in boxes\" :key=\"index\">\r\n          <v-badge\r\n            bordered\r\n            overlap\r\n            :color=\"get_box_disabled(b) ? greyColor : greenColor\"\r\n            :content=\"b.free_choice_count - get_choice_count(b.id)\"\r\n            v-for=\"(b, i) in item\"\r\n            :key=\"i\"\r\n            offset-x=\"12\"\r\n            offset-y=\"18\"\r\n            class=\"mx-3\"\r\n          >\r\n            <v-btn\r\n              :class=\"\r\n                `get_box_disabled(b) ? greyColor : box-${get_box_disabled(b)}-${\r\n                  b.garden_id\r\n                } box-outlined-${b.deliver_type} my-1`\r\n              \"\r\n              :disabled=\"get_box_disabled(b)\"\r\n              outlined\r\n              @click=\"onBoxClick(b)\"\r\n            >\r\n              <!-- {{ b.short_name + \"# \" + b.area + \"m²\" }} -->\r\n              {{ b.name + \",\" }}\r\n              <span v-for=\"(la, i) in b.labelareas\" :key=\"i\">\r\n                <span v-if=\"i == 0\">\r\n                  {{ la.area }}\r\n                </span>\r\n                <span v-else>{{ \"+\" + la.area }} </span> </span\r\n              >㎡\r\n            </v-btn>\r\n          </v-badge>\r\n        </div>\r\n      </v-row>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  fetchCustomer,\r\n  fetchCustomerByCode,\r\n  fetchCustomersList\r\n} from \"@/api/customers\";\r\nimport { fetchBoxesListByPost, fetchBoxesListByPost2 } from \"@/api/boxes\";\r\nimport { fetchGardensList } from \"@/api/gardens\";\r\nimport { createChoice, deleteChoice } from \"@/api/choices\";\r\nimport { fetchAreaitems } from \"@/api/areaitems\";\r\n// import { fetchCustomersList } from \"@/api/customers\";\r\n// import { ModelListSelect } from \"vue-search-select\";\r\n\r\nexport default {\r\n  name: \"AddChoice\",\r\n\r\n  components: {},\r\n\r\n  filters: {\r\n    statusFilter(status) {\r\n      const statusMap = {\r\n        published: \"success\",\r\n        draft: \"info\",\r\n        deleted: \"danger\"\r\n      };\r\n      return statusMap[status];\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      snackbar: false,\r\n      mustExhaustMyArea: true,\r\n      text: \"\",\r\n      timeout: 3000,\r\n      dt_now: \"\",\r\n      action: {\r\n        color: \"grey\",\r\n        icon: \"mdi-checkbox-marked\"\r\n      },\r\n\r\n      color: \"#555\",\r\n      icons: {\r\n        left: \"mdi-chevron-left\",\r\n        right: \"mdi-chevron-right\",\r\n        info: \"mdi-exclamation\",\r\n        success: \"mdi-check\",\r\n        warning: \"mdi-alert\",\r\n        error: \"mdi-close\"\r\n      },\r\n      greyColor: \"#444\",\r\n      greenColor: \"#338833\",\r\n      details: {},\r\n      gardens: [],\r\n      selected_gardens: [],\r\n      checkbox_gardens: [],\r\n      radio_garden: 1000,\r\n      choice_count: {},\r\n      params: {\r\n        labels_quantity: 1,\r\n        boxes: []\r\n      },\r\n      choices_selected: [],\r\n      area_selected: 0,\r\n      scan: {\r\n        value: \"\",\r\n        type: \"\"\r\n      },\r\n      maxNumberOfChoices: 0,\r\n      customer: {\r\n        choices_selected: []\r\n      },\r\n      customersList: [],\r\n      boxes: {},\r\n      temp: {\r\n        customer_id: \"\",\r\n        labelitems: []\r\n      },\r\n      areaitems_max_area: {},\r\n      printObj: {\r\n        id: \"printMe\",\r\n        popTitle: \"good print\",\r\n        extraCss: \"https://www.baidu.com\",\r\n        extraHead: '<meta http-equiv=\"Content-Language\"content=\"zh-cn\"/>'\r\n      },\r\n      printCertificateObj: {\r\n        id: \"printCertificate\",\r\n        popTitle: \"方案列表\",\r\n        extraCss: \"https://www.baidu.com\",\r\n        extraHead: '<meta http-equiv=\"Content-Language\"content=\"zh-cn\"/>'\r\n      }\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    isAdminRole() {\r\n      if (this.$store.getters.roles.includes(\"admin\")) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getCustomers();\r\n    this.getAreaitems();\r\n    // this.getCustomer(this.$route.params.id);\r\n    this.getBoxesByPost();\r\n    this.getGardensList();\r\n    this.dt_now = Date.now();\r\n  },\r\n\r\n  methods: {\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n\r\n    getCustomers() {\r\n      fetchCustomersList().then(response => {\r\n        this.customersList = response.data.items;\r\n        // Just to simulate the time of the request\r\n        setTimeout(() => {\r\n          this.listLoading = false;\r\n        }, 1.5 * 1000);\r\n      });\r\n      console.log(\"customersList:\", this.customersList);\r\n    },\r\n\r\n    // get_garden_disabled() {\r\n    //   if (this.customer.id) {\r\n    //     // console.log(\"get_garden_disabled: false\");\r\n    //     return false;\r\n    //   } else {\r\n    //     // console.log(\"get_garden_disabled: return true\");\r\n    //     return true;\r\n    //   }\r\n    // },\r\n\r\n    get_garden_disabled(g) {\r\n      // console.log('g.is_restricted, this.customer.has_restricted_house_selection: ', g.is_restricted, this.customer.has_restricted_house_selection)\r\n      // if (g && g.is_restricted && this.customer.has_restricted_house_selection) {\r\n      //   console.log('is_restricted')\r\n      //   return true;\r\n      // }\r\n      return false;\r\n    },\r\n\r\n    get_box_disabled(b) {\r\n      if (\r\n        // b.free_choice_count == 0 ||\r\n        b.free_choice_count - this.get_choice_count(b.id) == 0 ||\r\n        this.customer.myarea_choice_remain - this.area_selected < 20 ||\r\n        // (b.area >= 80 &&\r\n        //   this.customer.myarea_choice_remain < 80 &&\r\n        //   this.areaitems_max_area[\"小户型\"] >\r\n        //     this.customer.myarea_choice_remain) ||\r\n        // (b.area >= 100 && this.customer.myarea_choice_remain < 100 && this.areaitems_max_area[\"中户型\"] > this.customer.myarea_choice_remain) ||\r\n\r\n        // 关闭未选小区号箱\r\n        !this.selected_gardens.includes(b.garden_id) ||\r\n        //\r\n        this.check_district_box(b)\r\n        // ||\r\n        // (this.customer.myarea_choice_remain - this.area_selected < 100 &&\r\n        //   b.area >= 100 &&\r\n        //   this.areaitems_max_area[\"中户型\"] >\r\n        //     this.customer.myarea_choice_remain - this.area_selected) ||\r\n        // (this.customer.myarea_choice_remain - this.area_selected < 80 &&\r\n        //   b.area >= 80 &&\r\n        //   this.areaitems_max_area[\"小户型\"] >\r\n        //     this.customer.myarea_choice_remain - this.area_selected)\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    check_district_box(b) {\r\n      // console.log(\"check_disabled_box\");\r\n      // {'id': 2, 'name': '善东苑'}\r\n      // {'id': 3, 'name': '翡翠公馆'}, {'id': 6, 'name': '善和苑'}, {'id': 9, 'name': '枫南小镇'}\r\n      const gardenIds = [1];\r\n\r\n      // 同小区其他号箱灭灯\r\n      if (gardenIds.includes(b.garden_id)) {\r\n        var district_box = this.params.boxes.find(\r\n          box => this.get_gardenid_from_boxid(box.id) == b.garden_id\r\n        );\r\n        if (district_box) {\r\n          if (district_box != b.id) {\r\n            return true;\r\n          }\r\n          console.log(\"check_disabled_box\");\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    get_gardenid_from_boxid(box_id) {\r\n      // console.log('box_id: ', box)\r\n      // console.log(this.boxes_allinone)\r\n      var garden_id = this.boxes_allinone.find(b => b.id === box_id).garden_id;\r\n      return garden_id;\r\n    },\r\n\r\n    reset() {\r\n      this.temp.labelitems = [];\r\n      this.area_selected = 0;\r\n      this.choice_count = {};\r\n      this.params.boxes = [];\r\n      this.radio_garden = -1;\r\n      this.checkbox_gardens = [];\r\n      this.selected_gardens = [];\r\n    },\r\n\r\n    getAreaitems() {\r\n      this.listLoading = true;\r\n      fetchAreaitems().then(response => {\r\n        this.areaitems_max_area = response.data;\r\n        // console.log(\"this.areaitems_max_area: \", this.areaitems_max_area);\r\n        setTimeout(() => {\r\n          this.listLoading = false;\r\n        }, 5 * 1000);\r\n      });\r\n    },\r\n\r\n    reCheck() {\r\n      // 重新统计号签\r\n      this.temp.labelitems = this.temp.labelitems.filter(li =>\r\n        this.selected_gardens.includes(li.garden_id)\r\n      );\r\n\r\n      // 重新号箱已选号签数值\r\n      for (var box_id in this.choice_count) {\r\n        if (\r\n          !this.selected_gardens.includes(\r\n            this.get_gardenid_from_boxid(parseInt(box_id))\r\n          )\r\n        ) {\r\n          delete this.choice_count[box_id];\r\n        }\r\n      }\r\n      // 重新客户已选面积\r\n      this.getAreaSelected();\r\n    },\r\n\r\n    // 处理小区变更\r\n    onGardenChanged() {\r\n      this.getBoxesByPost();\r\n\r\n      // 重新计算已选小区\r\n      setTimeout(() => {\r\n        this.selected_gardens = [];\r\n        this.selected_gardens.push(this.radio_garden);\r\n        this.selected_gardens = this.selected_gardens.concat(\r\n          this.checkbox_gardens\r\n        );\r\n      }, 0.1 * 1000);\r\n\r\n      // 删除未选小区的号箱\r\n      setTimeout(() => {\r\n        console.log(\"this.selected_gardens: \", this.selected_gardens);\r\n        this.params.boxes = this.params.boxes.filter(b =>\r\n          this.selected_gardens.includes(this.get_gardenid_from_boxid(b.id))\r\n        );\r\n        this.reCheck();\r\n        console.log(\"this.params.boxes: \", this.params.boxes);\r\n      }, 0.2 * 1000);\r\n\r\n      // 删除未选小区的号签, 并重置已选号签的统计数值\r\n      setTimeout(() => {\r\n        this.reCheck();\r\n      }, 0.3 * 1000);\r\n    },\r\n\r\n    getBoxesByPost() {\r\n      this.listLoading = true;\r\n      this.getAreaitems();\r\n      var data = { gardens: this.selected_gardens };\r\n      fetchBoxesListByPost2(data).then(response => {\r\n        this.boxes = response.data.items;\r\n        this.boxes_allinone = response.data.allinonelist;\r\n        setTimeout(() => {\r\n          this.listLoading = false;\r\n        }, 3 * 1000);\r\n      });\r\n      // console.log(\"this.params.boxes: \", this.params.boxes);\r\n    },\r\n\r\n    // 获取小区列表\r\n    getGardensList() {\r\n      this.listLoading = true;\r\n      fetchGardensList().then(response => {\r\n        this.gardens = response.data.items;\r\n        // 默认选择所有小区\r\n        // this.select_gardens = this.gardens.map(x => {\r\n        //   return x.id;\r\n        // });\r\n        setTimeout(() => {\r\n          this.listLoading = false;\r\n        }, 5 * 1000);\r\n      });\r\n    },\r\n\r\n    get_choice_count(box_id) {\r\n      if (box_id in this.choice_count) {\r\n        return this.choice_count[box_id];\r\n      }\r\n      return 0;\r\n    },\r\n\r\n    // 重新计算所选面积\r\n    getAreaSelected() {\r\n      var total = 0;\r\n      for (var i in this.temp.labelitems) {\r\n        console.log(\"labelitem area: \", this.temp.labelitems[i].area);\r\n        total += this.temp.labelitems[i].area;\r\n      }\r\n      this.area_selected = total;\r\n    },\r\n\r\n    // 点击号箱\r\n    onBoxClick(box) {\r\n      this.params.boxes.push(box);\r\n      this.temp.labelitems = this.temp.labelitems.concat(box.labelitems);\r\n      console.log(\"this.temp.labelitems: \", this.temp.labelitems);\r\n      this.getAreaSelected();\r\n      this.choice_count[box.id] = this.get_choice_count(box.id) + 1;\r\n      this.temp.labelitems = this.temp.labelitems.sort(\r\n        (a, b) => b.area - a.area\r\n      );\r\n    },\r\n\r\n    // 删除所选项\r\n    removeLabelitem(labelitem) {\r\n      this.temp.labelitems = this.temp.labelitems.filter(li => {\r\n        return li !== labelitem;\r\n      });\r\n\r\n      this.params.boxes = this.params.boxes.filter(box => {\r\n        return box.id !== labelitem.box_id;\r\n      });\r\n\r\n      delete this.choice_count[labelitem.box_id];\r\n      setTimeout(() => {\r\n        this.reCheck();\r\n      }, 0.02 * 1000);\r\n    },\r\n\r\n    // 提交预选方案\r\n    addCustomerChoices() {\r\n      this.$confirm(\"确定提交预选方案?\").then(res => {\r\n        if (res) {\r\n          createChoice(this.temp).then(response => {\r\n            this.text = this.customer.name + \" 的预选方案录入！\";\r\n            this.snackbar = true;\r\n            setTimeout(() => {\r\n              this.getAreaitems();\r\n              this.getBoxesByPost();\r\n              this.reset();\r\n              this.getCustomer(this.temp.customer_id);\r\n            }, 1 * 1000);\r\n          });\r\n        }\r\n      });\r\n    },\r\n\r\n    // 删除预选方案\r\n    deleteCustomerChoices(item) {\r\n      this.$confirm(\"确定需要删除方案?\").then(res => {\r\n        if (res) {\r\n          deleteChoice(this.temp).then(response => {\r\n            this.text = this.customer.name + \" 预选方案已删除\";\r\n            this.snackbar = true;\r\n            if (response) {\r\n              this.getBoxesByPost();\r\n            }\r\n            setTimeout(() => {\r\n              this.reset();\r\n              this.getCustomer(this.customer.id);\r\n            }, 1 * 1000);\r\n          });\r\n        }\r\n      });\r\n    },\r\n\r\n    // 扫码\r\n    handleScan() {\r\n      console.log(\"handleScan\");\r\n      if (this.scan.value.length > 8) {\r\n        console.log(\"this.scan.value.length > 8\");\r\n        console.log(this.scan.value);\r\n        this.scan.value = \"\";\r\n        console.log(this.scan.value);\r\n        this.reset();\r\n      }\r\n      if (this.scan.value.length == 8) {\r\n        this.scan.type = this.scan.value.substr(0, 1);\r\n        if (this.scan.type == \"8\") {\r\n          // const customer_code = Number(this.scan.value.substr(1, 6));\r\n          const customer_code = Number(this.scan.value.substr(0, 7));\r\n          console.log(\"customer_code: \", customer_code);\r\n          this.reset();\r\n          this.getCustomerByCode(customer_code);\r\n        }\r\n      }\r\n    },\r\n\r\n    // 根据客户编号获取客户信息\r\n    getCustomerByCode(customer_code) {\r\n      console.log(\"getCustomer\");\r\n      fetchCustomerByCode(customer_code).then(response => {\r\n        this.customer = response.data;\r\n        this.temp.customer_id = this.customer.id;\r\n        this.reset();\r\n        this.maxNumberOfChoices =\r\n          Math.ceil((response.data.myarea + 20) / 80) + 1;\r\n        // Just to simulate the time of the request\r\n        setTimeout(() => {\r\n          this.listLoading = false;\r\n        }, 1.5 * 1000);\r\n      });\r\n      this.scan = {\r\n        type: \"\",\r\n        value: \"\"\r\n      };\r\n    },\r\n\r\n    // 根据客户ID获取客户信息\r\n    getCustomer() {\r\n      this.listLoading = true;\r\n      fetchCustomer(this.temp.customer_id).then(response => {\r\n        this.customer = response.data;\r\n        this.reset();\r\n        this.maxNumberOfChoices =\r\n          Math.ceil((response.data.myarea + 20) / 80) + 1;\r\n        setTimeout(() => {\r\n          this.listLoading = false;\r\n        }, 5 * 1000);\r\n      });\r\n    },\r\n\r\n    getNamefromOptions(options, key) {\r\n      let showname = \"\";\r\n      options.forEach(item => {\r\n        if (item.key === key) {\r\n          showname = item.display_name;\r\n        }\r\n      });\r\n      return showname;\r\n    },\r\n    getSortClass: function(key) {\r\n      const sort = this.listQuery.sort;\r\n      return sort === `+${key}` ? \"ascending\" : \"descending\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n$colors: (\r\n  1 #2b6d6a,\r\n  2 #4e3152,\r\n  3 #2e3761,\r\n  4 #856936,\r\n  5 #80594a,\r\n  6 #6d2b36,\r\n  7 #2b6d6a,\r\n  8 #413370,\r\n  9 #03444d,\r\n  10 #754719\r\n);\r\n\r\n$color: nth($colors, random(length($colors)));\r\n\r\n@each $i in $colors {\r\n  .choice_background-#{nth($i, 1)} {\r\n    background-color: nth($i, 2) !important;\r\n    color: rgb(241, 233, 233) !important;\r\n    font-weight: 500 !important;\r\n    // border-radius: 5px;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    padding-top: 5px;\r\n    padding-bottom: 5px;\r\n  }\r\n}\r\n\r\n@each $i in $colors {\r\n  .background-#{nth($i,1) label} {\r\n    background-color: nth($i, 2) !important;\r\n    color: rgb(241, 233, 233) !important;\r\n    font-weight: 500 !important;\r\n    border-radius: 1px;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    padding-top: 5px;\r\n    padding-bottom: 5px;\r\n    width: 100px;\r\n  }\r\n}\r\n\r\n@each $i in $colors {\r\n  .background-false-#{nth($i, 1) label} {\r\n    background-color: nth($i, 2) !important;\r\n    color: rgb(241, 233, 233) !important;\r\n    font-weight: 500 !important;\r\n    border-radius: 1px;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    padding-top: 5px;\r\n    padding-bottom: 5px;\r\n    width: 100px;\r\n  }\r\n}\r\n\r\n@each $i in $colors {\r\n  .background-true-#{nth($i, 1) label} {\r\n    background-color: rgb(50, 50, 50) !important;\r\n    color: rgb(241, 233, 233) !important;\r\n    font-weight: 500 !important;\r\n    border-radius: 1px;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    padding-top: 5px;\r\n    padding-bottom: 5px;\r\n    width: 100px;\r\n  }\r\n}\r\n\r\n@each $i in $colors {\r\n  .box-false-#{nth($i, 1)} {\r\n    background-color: nth($i, 2) !important;\r\n    font-size: 13px !important;\r\n    font-weight: 500 !important;\r\n    width: 190px;\r\n  }\r\n}\r\n\r\n@each $i in $colors {\r\n  .box-true-#{nth($i, 1)} {\r\n    background-color: rgb(50, 50, 50) !important;\r\n    font-size: 13px !important;\r\n    font-weight: 600 !important;\r\n    width: 190px;\r\n  }\r\n}\r\n\r\n.grey-label label {\r\n  background-color: rgb(90, 90, 90) !important;\r\n  color: rgb(241, 233, 233) !important;\r\n  font-weight: 500 !important;\r\n  border: 10px lightblue;\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  padding-top: 5px;\r\n  padding-bottom: 5px;\r\n  border-radius: 5px;\r\n}\r\n\r\n$shadowcolors: (0 rgb(50, 50, 50), 1 #083f83);\r\n\r\n@each $i in $shadowcolors {\r\n  .box-shadow-#{nth($i, 1) } {\r\n    box-shadow: 1px 1px nth($i, 2) !important;\r\n  }\r\n  .box-outlined-#{nth($i, 1)} {\r\n    // border: thin solid #CCCCCC;\r\n    border: solid nth($i, 2) !important;\r\n  }\r\n}\r\n\r\n@each $i in $shadowcolors {\r\n  .checkbox-shadow-#{nth($i, 1) label} {\r\n    box-shadow: 1px 1px nth($i, 2) !important;\r\n  }\r\n}\r\n\r\n.customer-header1 {\r\n  background-color: rgba(30, 76, 136, 0.9) !important;\r\n  color: rgb(255, 255, 255) !important;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n}\r\n\r\n.choice_font {\r\n  color: rgb(253, 159, 71);\r\n  font-weight: 400;\r\n  font-size: 24px;\r\n}\r\n\r\n.printstyle {\r\n  font-size: 18px;\r\n}\r\n\r\n.printstyle-h2 {\r\n  color: rgb(247, 142, 45) !important;\r\n  font-weight: 800;\r\n  font-size: 36px;\r\n}\r\n\r\n@media print {\r\n  @page {\r\n    size: A4 landscape;\r\n  }\r\n\r\n  .print-magin {\r\n    margin: 30px 30px 30px 30px;\r\n  }\r\n\r\n  .printstyle-h1 {\r\n    color: rgb(100, 100, 100) !important;\r\n    font-size: 80px;\r\n  }\r\n\r\n  .printstyle-h2 {\r\n    color: rgb(100, 100, 100) !important;\r\n    font-weight: 800;\r\n    font-size: 58px;\r\n  }\r\n\r\n  .printstyle {\r\n    color: rgb(100, 100, 100) !important;\r\n    font-size: 36px;\r\n  }\r\n\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  .A4 {\r\n    box-shadow: none;\r\n    padding: 0 0;\r\n    width: 794px;\r\n    height: 1122px;\r\n    display: block;\r\n  }\r\n\r\n  .noprint {\r\n    display: none;\r\n  }\r\n\r\n  .enable-print {\r\n    display: block;\r\n  }\r\n\r\n  @each $i in $colors {\r\n    .choice_background-#{nth($i, 1)} {\r\n      color: rgb(100, 100, 100) !important;\r\n      font-size: 18px;\r\n      padding-left: 10px;\r\n      padding-right: 10px;\r\n      padding-top: 5px;\r\n      padding-bottom: 5px;\r\n    }\r\n  }\r\n\r\n  @each $i in $shadowcolors {\r\n    .box-shadow-#{nth($i, 1)} {\r\n      color: rgb(100, 100, 100) !important;\r\n      font-size: 32px;\r\n    }\r\n    .box-outlined-#{nth($i, 1)} {\r\n      color: rgb(100, 100, 100) !important;\r\n      font-size: 32px;\r\n    }\r\n  }\r\n\r\n  .choice_font {\r\n    color: rgb(100, 100, 100) !important;\r\n    font-weight: 600;\r\n    font-size: 54px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addChoice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addChoice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addChoice.vue?vue&type=template&id=04dd856c&\"\nimport script from \"./addChoice.vue?vue&type=script&lang=js&\"\nexport * from \"./addChoice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addChoice.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLabel } from 'vuetify/lib/components/VLabel';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAutocomplete,VBadge,VBtn,VCard,VCheckbox,VChip,VCol,VContainer,VDivider,VIcon,VLabel,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle,VRadio,VRadioGroup,VRow,VSnackbar,VSpacer,VTextField})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addChoice.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addChoice.vue?vue&type=style&index=0&lang=scss&\"","import request from '@/utils/request'\r\n\r\nexport function fetchGardensList(query) {\r\n  return request({\r\n    url: '/gardenslist',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\n\r\nexport function fetchGardens(query) {\r\n  return request({\r\n    url: '/gardens',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n// export function fetchBook(id) {\r\n//   return request({\r\n//     url: `/books/${id}`,\r\n//     method: 'get'\r\n//   })\r\n// }\r\n\r\n// export function createBook(data) {\r\n//   return request({\r\n//     url: '/books',\r\n//     method: 'post',\r\n//     data\r\n//   })\r\n// }\r\n\r\n// export function updateBook(id, data) {\r\n//   return request({\r\n//     url: `/books/${id}`,\r\n//     method: 'put',\r\n//     data\r\n//   })\r\n// }\r\n\r\n// export function deleteBook(id) {\r\n//   return request({\r\n//     url: `/books/${id}`,\r\n//     method: 'delete'\r\n//   })\r\n// }\r\n\r\n"],"sourceRoot":""}