{"version":3,"sources":["webpack:///./src/views/contracts/addScanContractDialogBatch.vue?9b45","webpack:///src/views/contracts/addScanContractDialogBatch.vue","webpack:///./src/views/contracts/addScanContractDialogBatch.vue?69a4","webpack:///./src/views/contracts/addScanContractDialogBatch.vue","webpack:///./src/api/customers.js","webpack:///./src/views/contracts/addScanContractDialogBatch.vue?5699","webpack:///./src/api/labels.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","ref","on","_g","_b","staticClass","_v","model","value","callback","$$v","dialogScan","expression","alert","_s","alert_text","staticStyle","handleScan","scan","$set","temp","customer","name","village","phone","myarea","customer_code","_l","row","i","id","item","garden","building","unit","number","house_type","area","sub_area","proxy","cancelAddScanDialog","confirmAddScanDialog","staticRenderFns","components","data","mounted","methods","console","log","length","type","substr","label_id","addTOLabels","getCustomerByCode","setTimeout","new_label","response","found","status","labels","component","VAlert","VBtn","VCardActions","VCard","VCol","VContainer","VDialog","VDivider","VIcon","VRow","VSimpleTable","VSpacer","VTextField","fetchCustomers","query","request","url","method","params","fetchCustomer","fetchCustomerByCode","fetchCustomerChoices","createCustomer","updateCustomer","deleteCustomer","fetchCustomersList","fetchCustomersCount","callNumber","callNumberbyControl","fetchLabel","fetchLabels","deleteLabel","fetchLabelsList","updateLabel","fetchLabelsCount","updateLabels","resetLabels","fetchLabelStatistics"],"mappings":"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","file":"js/chunk-a684652e.76761062.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"900\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mx-2\",attrs:{\"color\":\"green\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" 批量\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-crop-free\")])],1)]}}]),model:{value:(_vm.dialogScan),callback:function ($$v) {_vm.dialogScan=$$v},expression:\"dialogScan\"}},[_c('v-container',{staticClass:\"my-container pa-6 \"},[_c('h1',[_vm._v(\"批量新增签约\")]),_c('v-divider',{staticClass:\"mx-4 my-1\"}),_c('v-alert',{attrs:{\"border\":\"left\",\"close-text\":\"Close Alert\",\"color\":\"#2A3B4D\",\"dark\":\"\",\"dismissible\":\"\"},model:{value:(_vm.alert),callback:function ($$v) {_vm.alert=$$v},expression:\"alert\"}},[_vm._v(\" \"+_vm._s(_vm.alert_text)+\" \")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"8\",\"sm\":\"8\",\"md\":\"8\"}},[_c('v-text-field',{staticClass:\"ml-auto\",staticStyle:{\"max-width\":\"300px\"},attrs:{\"autofocus\":\"\",\"prepend-icon\":\"mdi-barcode\",\"label\":\"扫码输入\",\"hide-details\":\"\",\"single-line\":\"\"},on:{\"input\":_vm.handleScan},model:{value:(_vm.scan.value),callback:function ($$v) {_vm.$set(_vm.scan, \"value\", $$v)},expression:\"scan.value\"}})],1)],1),_c('div',{attrs:{\"v-if\":this.temp.customer}},[_c('v-row',{staticClass:\"display-3 font-weight-light orange--text mx-10\"},[_c('h3',[_vm._v(_vm._s(this.temp.customer.name))])]),_c('v-row',{staticClass:\"font-weight-light grey--text title mx-10\"},[_c('p',[_vm._v(\" \"+_vm._s(this.temp.customer.village)+\" \"+_vm._s(this.temp.customer.phone)+\" \"+_vm._s(this.temp.customer.myarea)+\" \"+_vm._s(this.temp.customer_code)+\" \")])])],1),_c('v-simple-table',{staticClass:\"mx-15 mt-6\",attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\" 编号 \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" 详细信息 \")])])]),_c('tbody',_vm._l((_vm.temp.labels),function(row,i){return _c('tr',{key:i},[_c('td',[_vm._v(_vm._s(row.id))]),_c('v-simple-table',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('tbody',_vm._l((row.houses),function(item,i){return _c('tr',{key:i},[_c('td',[_vm._v(_vm._s(item.garden))]),_c('td',[_vm._v(_vm._s(item.building)+\"幢\")]),_c('td',[_vm._v(_vm._s(item.unit)+\"单元\")]),_c('td',[_vm._v(_vm._s(item.number)+\"室\")]),_c('td',[_vm._v(_vm._s(item.house_type))]),_c('td',[_vm._v(_vm._s(item.area)+\"㎡\")]),_c('td',[(item.sub_area == 0)?_c('span',[_vm._v(\" - \")]):_c('span',[_vm._v(\" \"+_vm._s(item.sub_area)+\" ㎡\")])])])}),0)]},proxy:true}],null,true)})],1)}),0)]},proxy:true}])}),_c('div',{staticClass:\"my-3\"}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.cancelAddScanDialog}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.confirmAddScanDialog}},[_vm._v(\"确认\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-dialog v-model=\"dialogScan\" max-width=\"900\">\r\n    <template v-slot:activator=\"{ on, attrs }\">\r\n      <v-btn color=\"green\" dark v-bind=\"attrs\" v-on=\"on\" class=\"mx-2\">\r\n        批量<v-icon right>mdi-crop-free</v-icon>\r\n      </v-btn>\r\n    </template>\r\n    <v-container class=\"my-container pa-6 \">\r\n      <h1>批量新增签约</h1>\r\n      <v-divider class=\"mx-4 my-1\"></v-divider>\r\n      <v-alert\r\n        v-model=\"alert\"\r\n        border=\"left\"\r\n        close-text=\"Close Alert\"\r\n        color=\"#2A3B4D\"\r\n        dark\r\n        dismissible\r\n      >\r\n        {{ alert_text }}\r\n      </v-alert>\r\n      <v-row>\r\n        <v-col cols=\"8\" sm=\"8\" md=\"8\">\r\n          <v-text-field\r\n            autofocus\r\n            v-model=\"scan.value\"\r\n            prepend-icon=\"mdi-barcode\"\r\n            class=\"ml-auto\"\r\n            label=\"扫码输入\"\r\n            hide-details\r\n            single-line\r\n            @input=\"handleScan\"\r\n            style=\"max-width: 300px;\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n      <div :v-if=\"this.temp.customer\">\r\n        <v-row class=\"display-3 font-weight-light orange--text mx-10\">\r\n          <h3>{{ this.temp.customer.name }}</h3>\r\n        </v-row>\r\n        <v-row class=\"font-weight-light grey--text title mx-10\">\r\n          <p>\r\n            <!-- {{ this.temp.customer.id }} -->\r\n            {{ this.temp.customer.village }}\r\n            {{ this.temp.customer.phone }} {{ this.temp.customer.myarea }}\r\n            {{ this.temp.customer_code }}\r\n          </p>\r\n        </v-row>\r\n      </div>\r\n      <v-simple-table dense class=\"mx-15 mt-6\">\r\n        <template v-slot:default>\r\n          <thead>\r\n            <tr>\r\n              <!-- <th class=\"text-left\"></th> -->\r\n              <th class=\"text-left\">\r\n                编号\r\n              </th>\r\n              <th class=\"text-left\">\r\n                详细信息\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"(row, i) in temp.labels\" :key=\"i\">\r\n              <td>{{ row.id }}</td>\r\n              <v-simple-table dense>\r\n                <template v-slot:default>\r\n                  <tbody>\r\n                    <tr v-for=\"(item, i) in row.houses\" :key=\"i\">\r\n                      <td>{{ item.garden }}</td>\r\n                      <td>{{ item.building }}幢</td>\r\n                      <td>{{ item.unit }}单元</td>\r\n                      <td>{{ item.number }}室</td>\r\n                      <td>{{ item.house_type }}</td>\r\n                      <td>{{ item.area }}㎡</td>\r\n                      <td>\r\n                        <span v-if=\"item.sub_area == 0\"> - </span>\r\n                        <span v-else> {{ item.sub_area }} ㎡</span>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </template>\r\n              </v-simple-table>\r\n            </tr>\r\n          </tbody>\r\n        </template>\r\n      </v-simple-table>\r\n      <div class=\"my-3\" />\r\n\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn color=\"primary\" @click=\"cancelAddScanDialog\">取消</v-btn>\r\n        <v-btn color=\"primary\" @click=\"confirmAddScanDialog\">确认</v-btn>\r\n      </v-card-actions>\r\n    </v-container>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { createContracts } from \"@/api/contracts\";\r\nimport { fetchCustomerByCode } from \"@/api/customers\";\r\nimport { fetchLabel } from \"@/api/labels\";\r\n// import { ModelListSelect } from \"vue-search-select\";\r\n// import { get_bookinfo_byISBN } from \"@api/isbn\"\r\nexport default {\r\n  name: \"AddScanContractDialogBatch\",\r\n  components: {\r\n    // ModelListSelect\r\n  },\r\n\r\n  data: () => ({\r\n    alert: false,\r\n    alert_text: \"\",\r\n    customersList: [],\r\n    // housesList: [],\r\n    scan: {\r\n      value: \"\",\r\n      type: \"\"\r\n    },\r\n    label_code: \"\",\r\n    objectItem: {},\r\n    stringItem: \"\",\r\n    dialogScan: false,\r\n    temp: {\r\n      customer: {},\r\n      labels: []\r\n    }\r\n  }),\r\n  mounted() {\r\n    // this.getCustomers();\r\n    // this.getHouses()\r\n  },\r\n  methods: {\r\n    handleScan() {\r\n      console.log(\"handleScan\");\r\n      if (this.scan.value.length == 8) {\r\n        this.scan.type = this.scan.value.substr(0, 1);\r\n        if (this.scan.type == \"9\") {\r\n          const label_id = Number(this.scan.value.substr(1, 6));\r\n          console.log(\"label_id: \", label_id);\r\n          this.addTOLabels(label_id);\r\n        } else if (this.scan.type == \"8\") {\r\n          // const customer_code = Number(this.scan.value.substr(1, 6));\r\n          const customer_code = Number(this.scan.value.substr(0, 7));\r\n          console.log(\"customer_code: \", customer_code);\r\n          this.getCustomerByCode(customer_code);\r\n        }\r\n      }\r\n    },\r\n\r\n    getCustomerByCode(customer_code) {\r\n      console.log(\"getCustomer\");\r\n      fetchCustomerByCode(customer_code).then(response => {\r\n        this.temp.customer = response.data;\r\n        // Just to simulate the time of the request\r\n        setTimeout(() => {\r\n          this.listLoading = false;\r\n        }, 1.5 * 1000);\r\n      });\r\n      this.scan = {\r\n        type: \"\",\r\n        value: \"\"\r\n      };\r\n    },\r\n\r\n    addTOLabels(label_id) {\r\n      console.log(\"addTOLabels\");\r\n      fetchLabel(label_id).then(response => {\r\n        this.label_code = \"\";\r\n        var new_label = response.data;\r\n\r\n        var found = 0;\r\n        if (this.temp.labels) {\r\n          found = this.temp.labels.find(element => element.id == new_label.id);\r\n        }\r\n\r\n        if (response.data.status != 0) {\r\n          this.alert = true;\r\n          this.alert_text = \"号签状态不匹配\";\r\n        } else if (!found) {\r\n          this.alert = false;\r\n          this.temp.labels.push(new_label);\r\n        }\r\n        console.log(\"found: \", found);\r\n        console.log(this.temp.labels);\r\n\r\n        // Just to simulate the time of the request\r\n        setTimeout(() => {\r\n          this.listLoading = false;\r\n        }, 1.5 * 1000);\r\n      });\r\n      this.scan = {\r\n        type: \"\",\r\n        value: \"\"\r\n      };\r\n    },\r\n\r\n    confirmAddScanDialog() {\r\n      const tempData = this.temp;\r\n      const id = this.$route.params.id;\r\n      createContracts(tempData).then(() => {\r\n        this.dialogScan = false;\r\n        this.scan = {\r\n          type: \"\",\r\n          value: \"\"\r\n        };\r\n        this.temp = {\r\n          customer: {},\r\n          labels: []\r\n        };\r\n        this.label_code = \"\";\r\n        this.$parent.getList();\r\n        // window.location.reload();\r\n      });\r\n    },\r\n\r\n    cancelAddScanDialog() {\r\n      this.dialogScan = false;\r\n      this.scan = {\r\n        type: \"\",\r\n        value: \"\"\r\n      };\r\n      this.temp = {\r\n        customer: {},\r\n        labels: []\r\n      };\r\n      console.log(\"cancelAddScanDialog\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\ntd {\r\n  font-size: 16px !important;\r\n  color: orange;\r\n}\r\n\r\n.my-container {\r\n  background-color: rgba(79, 79, 82, 0.9);\r\n}\r\n\r\ntbody,\r\nth,\r\ntr,\r\ntd {\r\n  background-color: rgba(79, 79, 82, 0.9) !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addScanContractDialogBatch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addScanContractDialogBatch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addScanContractDialogBatch.vue?vue&type=template&id=ff1d73d8&scoped=true&\"\nimport script from \"./addScanContractDialogBatch.vue?vue&type=script&lang=js&\"\nexport * from \"./addScanContractDialogBatch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addScanContractDialogBatch.vue?vue&type=style&index=0&id=ff1d73d8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ff1d73d8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCardActions,VCol,VContainer,VDialog,VDivider,VIcon,VRow,VSimpleTable,VSpacer,VTextField})\n","import request from '@/utils/request'\r\n\r\nexport function fetchCustomers(query) {\r\n  return request({\r\n    url: '/customers',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function fetchCustomer(id) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n\r\nexport function fetchCustomerByCode(customer_code) {\r\n  return request({\r\n    url: `/customers/code/${customer_code}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function fetchCustomerChoices(id, data) {\r\n  return request({\r\n    url: `/customers/${id}/choices`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\nexport function createCustomer(data) {\r\n  return request({\r\n    url: '/customers',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function updateCustomer(id, data) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\nexport function deleteCustomer(id) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n\r\nexport function fetchCustomersList() {\r\n  return request({\r\n    url: '/customerslist',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function fetchCustomersCount() {\r\n  return request({\r\n    url: '/customers/count',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n\r\nexport function callNumber(data) {\r\n  return request({\r\n    url: '/customers/callnumber',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function callNumberbyControl(data) {\r\n  return request({\r\n    url: '/customers/callnumberbycontrol',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addScanContractDialogBatch.vue?vue&type=style&index=0&id=ff1d73d8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addScanContractDialogBatch.vue?vue&type=style&index=0&id=ff1d73d8&scoped=true&lang=scss&\"","import request from '@/utils/request'\r\n\r\nexport function fetchLabel(id) {\r\n  return request({\r\n    url: `/labels/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function fetchLabels(query) {\r\n  return request({\r\n    url: '/labels',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function deleteLabel(id) {\r\n  return request({\r\n    url: `/labels/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\nexport function fetchLabelsList() {\r\n  return request({\r\n    url: '/labelslist',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function updateLabel(id, data) {\r\n  return request({\r\n    url: `/labels/${id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\nexport function fetchLabelsCount() {\r\n  return request({\r\n    url: '/labels/count',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// for slice labels\r\nexport function updateLabels(data) {\r\n  return request({\r\n    url: `/labels`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n\r\nexport function resetLabels() {\r\n  return request({\r\n    url: `/labels/reset`,\r\n    method: 'put'\r\n  })\r\n}\r\n\r\nexport function fetchLabelStatistics() {\r\n  return request({\r\n    url: `/labels/statistics`,\r\n    method: 'get'\r\n  })\r\n}"],"sourceRoot":""}